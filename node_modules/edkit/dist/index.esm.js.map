{"mappings":"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","sources":["source/index.ts","source/Tool.ts","source/tools/Text.ts","source/tools/Color.ts","source/tools/Layout.ts","source/tools/Media.ts","source/tools/Control.ts"],"sourcesContent":["export * from './Tool';\nexport * from './tools/Text';\nexport * from './tools/Color';\nexport * from './tools/Layout';\nexport * from './tools/Media';\nexport * from './tools/Control';\n","import { fileOpen } from 'browser-fs-access';\n\nexport function getAnchorElement() {\n    const { anchorNode } = self.getSelection() || {};\n\n    if (anchorNode) return anchorNode.parentElement;\n}\n\nexport abstract class Tool {\n    abstract name: string;\n    abstract icon: string;\n\n    tags?: string[];\n    keys?: string[];\n    command?: string;\n    inputs?: string[];\n\n    get usable() {\n        const { command } = this;\n\n        return (\n            !command ||\n            document.queryCommandSupported(command) ||\n            document.queryCommandEnabled(command)\n        );\n    }\n\n    protected getActive() {\n        const { command, tags } = this;\n\n        if (tags) {\n            const box = getAnchorElement();\n\n            return (\n                !!box &&\n                box.matches(tags.map(tag => `${tag}, ${tag} *`).join(', '))\n            );\n        }\n        if (command) return document.queryCommandState(command);\n\n        return false;\n    }\n\n    get active() {\n        return this.getActive();\n    }\n\n    get title() {\n        const { name, keys, usable } = this;\n\n        return `${name}${\n            usable\n                ? keys\n                    ? `\\n(${keys.join(' + ')})`\n                    : ''\n                : '\\n(not supported)'\n        }`;\n    }\n\n    protected edit(editor: HTMLElement, ...data: any[]) {\n        editor.focus();\n        document.execCommand(this.command, null, ...data);\n    }\n\n    execute(editor: HTMLElement, ...data: any[]) {\n        var { inputs } = this,\n            values = [];\n\n        if (inputs) {\n            const data = inputs.map(input => self.prompt(input));\n\n            if (!data.filter(Boolean)[0]) return;\n\n            values = data;\n        }\n        this.edit(editor, ...values);\n    }\n\n    /**\n     * Render a Tool control\n     *\n     * @param editor An `HTMLElement` object or its wrapper for `[contenteditable=\"true\"]`\n     *\n     * @returns Virtual DOM of UI engines\n     */\n    abstract render(editor: any): any;\n}\n\nexport abstract class FileTool extends Tool {\n    async save(data: Blob) {\n        return URL.createObjectURL(data);\n    }\n\n    codeOf(path: string) {\n        return path;\n    }\n\n    async execute(editor: HTMLElement) {\n        try {\n            var path = await this.save(await fileOpen());\n        } catch {\n            var path = self.prompt('No file uploaded, please input an URL');\n        }\n        if (path) this.edit(editor, this.codeOf(path));\n    }\n}\n","import { Tool } from '../Tool';\n\nexport abstract class BoldTool extends Tool {\n    name = 'Bold';\n    tags = ['b', 'strong'];\n    keys = ['Ctrl', 'B'];\n    command = 'bold';\n}\n\nexport abstract class ItalicTool extends Tool {\n    name = 'Italic';\n    tags = ['i', 'em'];\n    keys = ['Ctrl', 'I'];\n    command = 'italic';\n}\n\nexport abstract class UnderlineTool extends Tool {\n    name = 'Underline';\n    tags = ['u'];\n    keys = ['Ctrl', 'U'];\n    command = 'underline';\n}\n\nexport abstract class StrikeThroughTool extends Tool {\n    name = 'Strike through';\n    tags = ['s', 'del', 'strike'];\n    command = 'strikeThrough';\n}\n\nconst HeadingCommand = document.queryCommandSupported('heading')\n    ? 'heading'\n    : 'formatBlock';\n\nexport abstract class H1Tool extends Tool {\n    name = 'H1';\n    tags = ['h1'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H1');\n    }\n}\n\nexport abstract class H2Tool extends Tool {\n    name = 'H2';\n    tags = ['h2'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H2');\n    }\n}\n\nexport abstract class H3Tool extends Tool {\n    name = 'H3';\n    tags = ['h3'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H3');\n    }\n}\n\nexport abstract class FontSizeDownTool extends Tool {\n    name = 'Font Size down';\n    tags = ['small'];\n    command = 'decreaseFontSize';\n}\n\nexport abstract class FontSizeUpTool extends Tool {\n    name = 'Font Size up';\n    tags = ['big'];\n    command = 'increaseFontSize';\n}\n\nexport abstract class SubscriptTool extends Tool {\n    name = 'Subscript';\n    tags = ['sub'];\n    command = 'subscript';\n}\n\nexport abstract class SuperscriptTool extends Tool {\n    name = 'Superscript';\n    tags = ['sup'];\n    command = 'superscript';\n}\n\nexport abstract class LinkTool extends Tool {\n    name = 'Link';\n    tags = ['a'];\n    inputs = ['Path'];\n    command = 'createLink';\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type ColorName = 'color' | 'backgroundColor';\n\nexport abstract class ColorTool extends Tool {\n    abstract colorName: ColorName;\n\n    getColor() {\n        const box = getAnchorElement(),\n            { colorName } = this;\n\n        if (!box) return colorName === 'color' ? '#000000' : '#ffffff';\n\n        const { [colorName]: color } = getComputedStyle(box);\n\n        const [red, green, blue] = color.match(/\\d+/g);\n\n        return (\n            '#' +\n            (+red).toString(16).padStart(2, '0') +\n            (+green).toString(16).padStart(2, '0') +\n            (+blue).toString(16).padStart(2, '0')\n        );\n    }\n\n    get active() {\n        return !!this.getColor();\n    }\n\n    execute(editor: HTMLElement, color: string) {\n        this.edit(editor, color);\n    }\n}\n\nexport abstract class ForeColorTool extends ColorTool {\n    name = 'Fore Color';\n    command = 'foreColor';\n    colorName = 'color' as ColorName;\n}\n\nexport abstract class BackColorTool extends ColorTool {\n    name = 'Back Color';\n    command = 'backColor';\n    colorName = 'backgroundColor' as ColorName;\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type AlignMode = 'left' | 'center' | 'right' | 'justify';\n\nexport abstract class AlignTool extends Tool {\n    abstract align: AlignMode;\n\n    get active() {\n        if (super.getActive()) return true;\n\n        const box = getAnchorElement();\n\n        return !!box && getComputedStyle(box).textAlign === this.align;\n    }\n}\n\nexport abstract class AlignLeftTool extends AlignTool {\n    name = 'Align Left';\n    command = 'justifyLeft';\n    align = 'left' as AlignMode;\n}\n\nexport abstract class AlignCenterTool extends AlignTool {\n    name = 'Align Center';\n    command = 'justifyCenter';\n    align = 'center' as AlignMode;\n}\n\nexport abstract class AlignRightTool extends AlignTool {\n    name = 'Align Right';\n    command = 'justifyRight';\n    align = 'right' as AlignMode;\n}\n\nexport abstract class AlignFullTool extends AlignTool {\n    name = 'Align Full';\n    command = 'justifyFull';\n    align = 'justify' as AlignMode;\n}\n\nexport abstract class OrderedListTool extends Tool {\n    name = 'Ordered list';\n    tags = ['ol'];\n    command = 'insertOrderedList';\n}\n\nexport abstract class UnorderedListTool extends Tool {\n    name = 'Unordered list';\n    tags = ['ul'];\n    command = 'insertUnorderedList';\n}\n\nexport abstract class HorizontalRuleTool extends Tool {\n    name = 'Horizontal rule';\n    tags = ['hr'];\n    command = 'insertHorizontalRule';\n}\n","import { Tool, FileTool } from '../Tool';\n\nexport abstract class IFrameTool extends Tool {\n    name = 'Embed Web page';\n    tags = ['iframe'];\n    command = 'insertHTML';\n\n    execute(editor: HTMLElement) {\n        const path = self.prompt('Path');\n\n        if (path)\n            this.edit(\n                editor,\n                `<iframe style=\"width: 100%; height: 50vh; border: none\" src=\"${path}\"></iframe>`\n            );\n    }\n}\n\nexport abstract class ImageTool extends FileTool {\n    name = 'Image';\n    tags = ['img'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<img style=\"max-width: 100%; height: auto\" src=\"${path}\"/>`;\n    }\n}\n\nexport abstract class AudioTool extends FileTool {\n    name = 'Audio';\n    tags = ['audio'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<audio controls src=\"${path}\"></audio>`;\n    }\n}\n\nexport abstract class VideoTool extends FileTool {\n    name = 'Video';\n    tags = ['video'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<video controls src=\"${path}\"></video>`;\n    }\n}\n","import { Tool } from '../Tool';\n\nexport abstract class UndoTool extends Tool {\n    name = 'Undo';\n    command = 'undo';\n}\n\nexport abstract class RedoTool extends Tool {\n    name = 'Redo';\n    command = 'redo';\n}\n\nexport abstract class ResetTool extends Tool {\n    name = 'Reset';\n    command = 'removeFormat';\n}\n\nexport abstract class ClearTool extends Tool {\n    name = 'Clear';\n\n    execute(editor: HTMLElement) {\n        editor.focus();\n        document.execCommand('selectAll');\n        document.execCommand('delete');\n    }\n}\n"],"names":[],"version":3,"file":"index.esm.js.map"}