{"mappings":"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","sources":["source/index.ts","source/Tool.tsx","source/tools/index.ts","source/tools/Text.ts","source/tools/Color.tsx","source/tools/Layout.ts","source/tools/Media.ts","source/tools/Control.ts","source/Editor.tsx"],"sourcesContent":["export * from './Tool';\nexport * from './tools';\nexport * from './Editor';\n","import React, { RefObject } from 'react';\nimport { Tool } from 'edkit';\n\nexport function renderTool(this: Tool, editor: RefObject<HTMLElement>) {\n    const { title, active, icon, usable } = this;\n\n    const Class = `btn btn-${\n        (active ? '' : 'outline-') + 'secondary'\n    } me-2 mb-2`;\n\n    return (\n        <button\n            key={icon}\n            type=\"button\"\n            title={title}\n            className={Class}\n            style={{ cursor: usable ? 'pointer' : 'not-allowed' }}\n            disabled={!usable}\n            onClick={event => {\n                event.preventDefault();\n\n                if (editor.current) this.execute(editor.current);\n            }}\n        >\n            <i className={`bi-${icon}`} />\n        </button>\n    );\n}\n","import {\n    BoldTool,\n    ItalicTool,\n    UnderlineTool,\n    StrikeThroughTool,\n    H1Tool,\n    H2Tool,\n    H3Tool,\n    FontSizeDownTool,\n    FontSizeUpTool,\n    SubscriptTool,\n    SuperscriptTool,\n    LinkTool\n} from './Text';\nimport { ForeColorTool, BackColorTool } from './Color';\nimport {\n    AlignLeftTool,\n    AlignCenterTool,\n    AlignRightTool,\n    AlignFullTool,\n    OrderedListTool,\n    UnorderedListTool,\n    HorizontalRuleTool\n} from './Layout';\nimport { IFrameTool, ImageTool, AudioTool, VideoTool } from './Media';\nimport { UndoTool, RedoTool, ResetTool, ClearTool } from './Control';\n\nexport * from './Text';\nexport * from './Color';\nexport * from './Layout';\nexport * from './Media';\nexport * from './Control';\n\nexport const TextTools = [\n    BoldTool,\n    ItalicTool,\n    UnderlineTool,\n    StrikeThroughTool,\n    H1Tool,\n    H2Tool,\n    H3Tool,\n    FontSizeDownTool,\n    FontSizeUpTool,\n    SubscriptTool,\n    SuperscriptTool,\n    LinkTool\n];\nexport const ColorTools = [ForeColorTool, BackColorTool];\nexport const LayoutTools = [\n    AlignLeftTool,\n    AlignCenterTool,\n    AlignRightTool,\n    AlignFullTool,\n    OrderedListTool,\n    UnorderedListTool,\n    HorizontalRuleTool\n];\nexport const MediaTools = [IFrameTool, ImageTool, AudioTool, VideoTool];\nexport const ControlTools = [UndoTool, RedoTool, ResetTool, ClearTool];\n\nexport const OriginalTools = [\n    ...TextTools,\n    ...ColorTools,\n    ...LayoutTools,\n    ...MediaTools,\n    ...ControlTools\n];\n\nexport const DefaultTools = [\n    BoldTool,\n    ItalicTool,\n    UnderlineTool,\n    StrikeThroughTool,\n    H1Tool,\n    H2Tool,\n    H3Tool,\n    SubscriptTool,\n    SuperscriptTool,\n    ForeColorTool,\n    BackColorTool,\n    AlignLeftTool,\n    AlignCenterTool,\n    AlignRightTool,\n    AlignFullTool,\n    OrderedListTool,\n    UnorderedListTool,\n    HorizontalRuleTool,\n    ImageTool,\n    UndoTool,\n    RedoTool,\n    ClearTool\n];\n","import {\n    BoldTool as BT,\n    ItalicTool as IT,\n    UnderlineTool as UT,\n    StrikeThroughTool as STT,\n    H1Tool as H1T,\n    H2Tool as H2T,\n    H3Tool as H3T,\n    FontSizeDownTool as FSDT,\n    FontSizeUpTool as FSUT,\n    SubscriptTool as SubST,\n    SuperscriptTool as SupST,\n    LinkTool as LT\n} from 'edkit';\n\nimport { renderTool } from '../Tool';\n\nexport class BoldTool extends BT {\n    icon = 'type-bold';\n    render = renderTool;\n}\n\nexport class ItalicTool extends IT {\n    icon = 'type-italic';\n    render = renderTool;\n}\n\nexport class UnderlineTool extends UT {\n    icon = 'type-underline';\n    render = renderTool;\n}\n\nexport class StrikeThroughTool extends STT {\n    icon = 'type-strikethrough';\n    render = renderTool;\n}\n\nexport class H1Tool extends H1T {\n    icon = 'type-h1';\n    render = renderTool;\n}\n\nexport class H2Tool extends H2T {\n    icon = 'type-h2';\n    render = renderTool;\n}\n\nexport class H3Tool extends H3T {\n    icon = 'type-h3';\n    render = renderTool;\n}\n\nexport class FontSizeDownTool extends FSDT {\n    icon = 'sort-alpha-down';\n    render = renderTool;\n}\n\nexport class FontSizeUpTool extends FSUT {\n    icon = 'sort-alpha-up';\n    render = renderTool;\n}\n\nexport class SubscriptTool extends SubST {\n    icon = 'box-arrow-down-right';\n    render = renderTool;\n}\n\nexport class SuperscriptTool extends SupST {\n    icon = 'box-arrow-up-right';\n    render = renderTool;\n}\n\nexport class LinkTool extends LT {\n    icon = 'link';\n    render = renderTool;\n}\n","import React, { PropsWithoutRef, RefObject } from 'react';\nimport {\n    ColorName,\n    ColorTool,\n    ForeColorTool as FCT,\n    BackColorTool as BCT\n} from 'edkit';\n\nexport type ColorSelectorProps = PropsWithoutRef<{\n    className?: string;\n    title?: string;\n    icon: string;\n    type: ColorName;\n    value?: string;\n    onChange?(color: string): any;\n}>;\n\nexport function ColorSelector({\n    className,\n    title,\n    type,\n    value,\n    onChange,\n    icon\n}: ColorSelectorProps) {\n    return (\n        <span\n            className={`d-inline-block align-middle position-relative ${className}`}\n            title={title}\n        >\n            <input\n                className=\"position-absolute w-100 h-100 rounded-3\"\n                style={{ left: 0, top: 0, zIndex: -1 }}\n                type=\"color\"\n                value={value}\n                onChange={({ target: { value } }) => onChange?.(value)}\n            />\n            <button\n                className=\"btn\"\n                style={{\n                    color: type === 'color' ? value : 'lightgray',\n                    backgroundColor: type === 'color' ? 'white' : value,\n                    borderColor: value\n                }}\n                onClick={event => {\n                    event.preventDefault();\n                    (\n                        event.currentTarget\n                            .previousElementSibling as HTMLInputElement\n                    ).click();\n                }}\n            >\n                <i className={`bi-${icon}`} />\n            </button>\n        </span>\n    );\n}\n\nexport function renderColorTool(\n    this: ColorTool,\n    editor: RefObject<HTMLElement>\n) {\n    const { icon, name, colorName } = this;\n\n    return (\n        <ColorSelector\n            className=\"me-2 mb-2\"\n            key={icon}\n            title={name}\n            icon={icon}\n            type={colorName}\n            value={this.getColor()}\n            onChange={color =>\n                editor.current && this.execute(editor.current, color)\n            }\n        />\n    );\n}\n\nexport class ForeColorTool extends FCT {\n    icon = 'file-earmark-font';\n    render = renderColorTool;\n}\n\nexport class BackColorTool extends BCT {\n    icon = 'file-earmark-font-fill';\n    render = renderColorTool;\n}\n","import {\n    AlignLeftTool as ALT,\n    AlignCenterTool as ACT,\n    AlignRightTool as ART,\n    AlignFullTool as AFT,\n    OrderedListTool as OLT,\n    UnorderedListTool as ULT,\n    HorizontalRuleTool as HRT\n} from 'edkit';\n\nimport { renderTool } from '../Tool';\n\nexport class AlignLeftTool extends ALT {\n    icon = 'text-left';\n    render = renderTool;\n}\n\nexport class AlignCenterTool extends ACT {\n    icon = 'text-center';\n    render = renderTool;\n}\n\nexport class AlignRightTool extends ART {\n    icon = 'text-right';\n    render = renderTool;\n}\n\nexport class AlignFullTool extends AFT {\n    icon = 'justify';\n    render = renderTool;\n}\n\nexport class OrderedListTool extends OLT {\n    icon = 'list-ol';\n    render = renderTool;\n}\n\nexport class UnorderedListTool extends ULT {\n    icon = 'list-ul';\n    render = renderTool;\n}\n\nexport class HorizontalRuleTool extends HRT {\n    icon = 'reception-0';\n    render = renderTool;\n}\n","import {\n    IFrameTool as FT,\n    ImageTool as IT,\n    AudioTool as AT,\n    VideoTool as VT\n} from 'edkit';\n\nimport { renderTool } from '../Tool';\n\nexport class IFrameTool extends FT {\n    icon = 'window';\n    render = renderTool;\n}\n\nexport class ImageTool extends IT {\n    icon = 'image';\n    render = renderTool;\n}\n\nexport class AudioTool extends AT {\n    icon = 'voicemail';\n    render = renderTool;\n}\n\nexport class VideoTool extends VT {\n    icon = 'camera-video';\n    render = renderTool;\n}\n","import {\n    UndoTool as UDT,\n    RedoTool as RDT,\n    ResetTool as RST,\n    ClearTool as CT\n} from 'edkit';\n\nimport { renderTool } from '../Tool';\n\nexport class UndoTool extends UDT {\n    icon = 'arrow-counterclockwise';\n    render = renderTool;\n}\n\nexport class RedoTool extends RDT {\n    icon = 'arrow-clockwise';\n    render = renderTool;\n}\n\nexport class ResetTool extends RST {\n    icon = 'eraser';\n    render = renderTool;\n}\n\nexport class ClearTool extends CT {\n    icon = 'file-earmark-x';\n    render = renderTool;\n}\n","import { Tool } from 'edkit';\nimport React, {\n    createRef,\n    PropsWithoutRef,\n    PureComponent,\n    ClipboardEvent,\n    DragEvent\n} from 'react';\nimport {\n    Constructor,\n    parseDOM,\n    walkDOM,\n    insertToCursor,\n    blobOf\n} from 'web-utility';\n\nimport { ImageTool, AudioTool, VideoTool, DefaultTools } from './tools';\n\nexport type EditorProps = PropsWithoutRef<{\n    tools?: { new (...args: any[]): Tool }[];\n    defaultValue?: string;\n    onChange?(value: string): any;\n}>;\n\ninterface EditorState {\n    toolList: Tool[];\n    data: string;\n}\n\nexport class Editor extends PureComponent<EditorProps, EditorState> {\n    static displayName = 'Editor';\n\n    box = createRef<HTMLDivElement>();\n\n    state = {\n        toolList: [] as Tool[],\n        data: ''\n    };\n\n    static getDerivedStateFromProps(\n        { tools = DefaultTools, defaultValue }: EditorProps,\n        { toolList, data }: EditorState\n    ): EditorState {\n        return {\n            toolList: toolList[0]\n                ? toolList\n                : tools.map(ToolButton => new ToolButton()),\n            data: data || defaultValue\n        };\n    }\n\n    componentDidMount() {\n        document.addEventListener('selectionchange', this.updateTools);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('selectionchange', this.updateTools);\n    }\n\n    updateTools = () => {\n        if (this.box.current === document.activeElement)\n            this.setState({ toolList: [...this.state.toolList] });\n    };\n\n    async uploadFile(\n        Type:\n            | Constructor<ImageTool>\n            | Constructor<AudioTool>\n            | Constructor<VideoTool>,\n        data: string | Blob\n    ) {\n        if (typeof data === 'string' && !/^(data|blob):/.test(data))\n            return data;\n\n        const tool = this.state.toolList.find(\n            tool => tool instanceof Type\n        ) as ImageTool;\n\n        try {\n            return await tool?.save(\n                typeof data === 'string' ? await blobOf(data) : data\n            );\n        } catch (error) {\n            console.error(error);\n\n            if (typeof data === 'string') return data;\n        }\n    }\n\n    async clearHTML(markup: string) {\n        const fragment = document.createDocumentFragment();\n\n        fragment.append(...parseDOM(markup));\n\n        for (const element of walkDOM<HTMLElement>(\n            fragment,\n            Node.ELEMENT_NODE\n        )) {\n            const { style, dataset } = element;\n\n            if (['nowrap', 'pre'].includes(style.whiteSpace))\n                style.whiteSpace = 'normal';\n\n            for (const key in dataset) delete dataset[key];\n\n            if (element instanceof HTMLImageElement)\n                element.src = await this.uploadFile(ImageTool, element.src);\n            else if (element instanceof HTMLAudioElement)\n                element.src = await this.uploadFile(AudioTool, element.src);\n            else if (element instanceof HTMLVideoElement)\n                element.src = await this.uploadFile(VideoTool, element.src);\n        }\n        return fragment;\n    }\n\n    handlePasteDrop = async (event: ClipboardEvent | DragEvent) => {\n        event.preventDefault();\n\n        const { currentTarget } = event;\n\n        const list =\n            event.type === 'paste'\n                ? [...(event as ClipboardEvent).clipboardData.items]\n                : [...(event as DragEvent).dataTransfer.items];\n\n        for (const item of list)\n            if (item.type === 'text/html') {\n                const raw = await new Promise<string>(resolve =>\n                    item.getAsString(resolve)\n                );\n                insertToCursor(await this.clearHTML(raw));\n            } else if (item.type.startsWith('image/')) {\n                const URI = await this.uploadFile(ImageTool, item.getAsFile());\n\n                if (URI) insertToCursor(...parseDOM(`<img src=\"${URI}\" />`));\n            } else if (item.type.startsWith('audio/')) {\n                const URI = await this.uploadFile(AudioTool, item.getAsFile());\n\n                if (URI) insertToCursor(...parseDOM(`<audio src=\"${URI}\" />`));\n            } else if (item.type.startsWith('video/')) {\n                const URI = await this.uploadFile(VideoTool, item.getAsFile());\n\n                if (URI) insertToCursor(...parseDOM(`<video src=\"${URI}\" />`));\n            }\n        this.props.onChange?.(currentTarget.innerHTML);\n    };\n\n    render() {\n        const { toolList, data } = this.state,\n            { onChange } = this.props;\n\n        return (\n            <>\n                <header>{toolList.map(tool => tool.render(this.box))}</header>\n                <div\n                    ref={this.box}\n                    className=\"form-control h-auto\"\n                    contentEditable\n                    dangerouslySetInnerHTML={{ __html: data }}\n                    onPaste={this.handlePasteDrop}\n                    onDrop={this.handlePasteDrop}\n                    onInput={({ currentTarget: { innerHTML } }) =>\n                        onChange?.(innerHTML)\n                    }\n                />\n            </>\n        );\n    }\n}\n"],"names":[],"version":3,"file":"index.js.map"}