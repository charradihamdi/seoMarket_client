{"mappings":";;;;;;;;;;;;;;;;;;;;;;ACcO,SAAS,yCAAQ,CAAC,KAAW,EAAE;IAClC,OAAO,CAAE,CAAA,KAAK,IAAI,IAAI,CAAA,AAAC,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;CAClD;AAEM,SAAS,yCAAO,CAAC,KAAW,EAAE;IACjC,OACI,yCAAQ,CAAC,KAAK,CAAC,IACd,CAAA,OAAO,KAAK,KAAK,QAAQ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,KAAK,KAAK,EAAE,CAAA,AAAC,CACzE;CACL;AAEM,SAAS,yCAAiB,CAAC,GAAa,EAAE,KAAe,EAAE;IAC9D,OAAO,GAAG,CAAC,SAAS,YAAY,KAAK,CAAC;CACzC;AAEM,SAAS,yCAAU,CAAC,GAAW,EAAE;IACpC,OAAO,GAAG,CAAC,OAAO,mCAAmC,IAAI,CAAC,CAAC,MAAM,CAAC;CACrE;AAEM,SAAS,yCAAY,CAAC,GAAW,EAAE;IACtC,OAAO,GAAG,CAAC,OAAO,8BAEd,CAAC,KAAK,EAAE,MAAM,GACV,CAAC,EAAE,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,AAAC,CAAA,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAA,CAAE,WAAW,EAAE,CAAC,CAAC,CACpE,CAAC;CACL;AAEM,SAAS,yCAAW,CAAC,GAAW,EAAE,KAAK,GAAG,KAAK,EAAE;IACpD,OAAO,GAAG,CAAC,OAAO,iCAAiC,CAAC,KAAK,EAAE,MAAM,GAC7D,MAAM,IAAI,KAAK,GACT,AAAC,CAAA,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAA,CAAE,WAAW,EAAE,GACpC,KAAK,CAAC,WAAW,EAAE,CAC5B,CAAC;CACL;AAEM,SAAS,yCAAQ,GAAG;IACvB,OAAO,AAAC,CAAA,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC,AAAC,CAAA,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAA,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA,CAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;CAC9E;AAEM,SAAS,yCAAU,CAAsB,MAAW,EAAE,IAAS,EAAE;IACpE,OAAO,MAAM,CAAC,WAAW,CACrB,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,GAAK;YAAC,IAAI,CAAC,KAAK,CAAC;YAAE,KAAK;SAAC,CAAC,CACrD,CAAiB;CACrB;AAEM,SAAS,yCAAM,CAClB,MAAyB,EACzB,MAAyB,EAC3B;IACE,MAAM,IAAI,GAAsB,EAAE,AAAC;IAEnC,IAAK,MAAM,GAAG,IAAI,MAAM,CACpB,IAAI,CAAE,CAAA,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,CAAA,AAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;IAExD,OAAO,IAAI,CAAC;CACf;AAIM,SAAS,yCAAS,CAAC,IAAU,EAA0B;IAC1D,IAAI,yCAAQ,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC;IAEjC,MAAM,UAAE,MAAM,CAAA,EAAE,GAAG,IAAI,AAAC;IAExB,OAAO,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC;CAC3E;AAEM,SAAS,yCAAS,CAAI,IAAQ,EAAE;IACnC,IAAI,IAAI,YAAY,KAAK,EAAE,OAAO,IAAI,CAA8B;IAEpE,IAAI,yCAAQ,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAmB;IAEhD,IAAI,yCAAS,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAmB;IAE/D,OAAO;QAAC,IAAI;KAAC,CAAmB;CACnC;AAEM,SAAS,yCAAU,CAAI,KAAU,EAAE,UAAkB,EAAE;IAC1D,MAAM,IAAI,GAAU,EAAE,AAAC;IAEvB,IACI,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,AAAK,EACvB,AAAC,CAAA,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,EAAE,CAAC,CAAC,CAAA,CAAE,MAAM,EAGhE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAEvB,OAAO,IAAI,CAAC;CACf;AAEM,SAAS,yCAAQ,CACpB,IAAS,EACT,MAAoC,EACpC,OAA6B,EAC1B;IACH,KAAK,MAAM,IAAI,IAAI,IAAI,CAAE;QACrB,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO;YAAC,IAAI;SAAC,CAAC;QAEjC,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,EAAE;YAC/B,MAAM,MAAM,GAAG,yCAAQ,CACnB,IAAI,CAAC,MAAM,CAAC,EACZ,MAAM,EACN,OAAO,CACV,AAAC;YACF,IAAI,MAAM,CAAC,MAAM,EAAE,OAAO;gBAAC,IAAI;mBAAK,MAAM;aAAC,CAAC;SAC/C;KACJ;IACD,OAAO,EAAE,CAAC;CACb;AAQM,SAAS,yCAAO,CACnB,IAAS,EACT,QAAqB,EACvB;IACE,MAAM,IAAI,GAAG,EAAE,AAA4B,AAAC;IAE5C,KAAK,MAAM,IAAI,IAAI,IAAI,CAAE;QACrB,IAAI,IAAI,GACJ,QAAQ,YAAY,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,AAAC;QAEnE,IAAI,CAAE,CAAA,IAAI,YAAY,KAAK,CAAA,AAAC,EAAE,IAAI,GAAG;YAAC,IAAI;SAAC,CAAC;QAE5C,KAAK,MAAM,IAAG,IAAI,IAAI,GAAG,CACrB,AAAC,IAAI,CAAmB,MAAM,CAAC,CAAA,GAAG,GAAI,GAAG,IAAI,IAAI,CAAC,CACrD,CACG,AAAC,CAAA,IAAI,CAAC,IAAG,CAAC,GAAG,IAAI,CAAC,IAAG,CAAC,IAAI,EAAE,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAChD;IAED,OAAO,IAAI,CAAC;CACf;AAEM,SAAS,yCAAO,CACnB,IAAS,EACT,QAAqB,EACvB;IACE,MAAM,KAAK,GAAG,yCAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,AAAC;IAEtC,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CACxC,CAAC,CAAC,GAAG,EAAE,UAAE,MAAM,CAAA,EAAE,CAAC,GAAK;YAAC,GAAG;YAAE,MAAM;SAAC,AAAS,CAChD,AAAC;IACF,OAAO,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;CACzC;AAEM,SAAS,yCAAK,CACjB,QAAkD,EAClD,KAAa,EACf;IACE,IAAI,SAAS,AAAG,AAAC;IAEjB,OAAO,SAAU,GAAG,KAAI,AAAK,EAAE;QAC3B,IAAI,SAAS,IAAI,IAAI,EAAE,OAAO,SAAS,CAAC;QAExC,OAAO,CAAC,KAAK,CAAC,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;QAE3C,SAAS,GAAG,QAAQ,CAAC,IAAI,CACrB,IAAI,EACJ,IAAa,SAAS,GAAG,SAAS,AAAC,KAChC,KAAI,CACV,CAAC;QACF,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAC3B,CAAA,IAAI,GAAI,OAAO,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAC7D,CAAA,KAAK;YAAI,OAAA,OAAO,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,CAAA,KAAK,aAAL,KAAK,WAAS,GAAd,KAAA,CAAc,GAAd,KAAK,CAAE,OAAO,CAAA,IAAI,KAAK,CAAC,CAAC,CAAC,CAAA;SAAA,CACvE,CAAC;QACF,OAAO,SAAS,CAAC;KACpB,CAAC;CACL;AAEM,gBAAgB,wCAAW,CAC9B,GAAG,OAAO,AAAkC,EAC9C;IACE,IAAI,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,CAAA,IAAI,GAAI,IAAI,EAAE,CAAC,AAAC;IAE5C,MAAO,SAAS,CAAC,CAAC,CAAC,CAAE;QACjB,MAAM,KAAK,GAAa,EAAE,AAAC;QAE3B,IACI,IAAI,EAAC,GAAG,CAAC,EAAE,QAAQ,AAAkB,EACpC,QAAQ,GAAG,SAAS,CAAC,EAAC,CAAC,EACxB,EAAC,EAAE,CACL;YACE,MAAM,QAAE,IAAI,CAAA,SAAE,KAAK,CAAA,EAAE,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,AAAC;YAE9C,IAAI,CAAC,IAAI,EAAE,MAAM,KAAK,CAAC;iBAClB,KAAK,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC;SACtB;QACD,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;CACJ;;AD/MD;;;;;;;;;;AEAO,SAAS,yCAAG,CAAC,GAAG,IAAI,AAAU,EAAE;IACnC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,IAAG,EAAE,IAAI,GAAK,IAAG,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC;CACpD;AAEM,SAAS,yCAAS,CAAC,GAAG,IAAI,AAAU,EAAE;IACzC,OAAO,yCAAG,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;CACrC;AAEM,SAAS,yCAAU,CAAC,IAAc,EAAE,MAAM,GAAG,KAAK,EAAE;IACvD,MAAM,OAAO,GAAG,yCAAS,IAAI,IAAI,CAAC,AAAC;IACnC,MAAM,OAAO,GAAG,yCAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAA,IAAI,GAAI,AAAC,CAAA,IAAI,GAAG,OAAO,CAAA,IAAK,CAAC,CAAC,CAAC,AAAC;IAEhE,OAAO,OAAO,GAAI,CAAA,IAAI,CAAC,MAAM,GAAI,CAAA,MAAM,GAAG,CAAC,GAAG,CAAC,CAAA,AAAC,CAAA,AAAC,CAAC;CACrD;AAEM,SAAS,yCAAmB,CAAC,IAAc,EAAE,MAAM,GAAG,KAAK,EAAE;IAChE,OAAO,IAAI,CAAC,IAAI,CAAC,yCAAU,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;CAC9C;AAEM,SAAS,yCAAY,CAAC,GAAG,IAAI,AAAU,EAAE;IAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,yCAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAA,IAAI,GAAI,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;CACzD;AAEM,SAAS,wCAAU,CAAC,GAAW,EAAE,MAAc,EAAE;IACpD,MAAM,KAAI,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,AAAC;IACrC,MAAM,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,AAAC;IAE9C,MAAM,GAAG,GAAG,CAAC,IAAY,GAAK,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,GAAI,CAAA,MAAM,GAAG,CAAC,GAAG,CAAC,CAAA,AAAC,CAAC,AAAC;IAEvE,IAAI,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,GAAG,CAAC,KAAI,CAAC,CAAC;IAE3C,MAAM,MAAM,GAAG,GAAG,CAAC,AAAC,CAAA,CAAC,GAAG,CAAC,KAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAA,CAAE,OAAO,CAAC,MAAM,CAAC,CAAC,AAAC;IAEjE,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;CACrE;AAEM,SAAS,yCAAQ,CAAC,GAAW,EAAE,MAAM,GAAG,CAAC,EAAE;IAC9C,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,AAAC;IACrC,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,AAAC;IAEtC,IAAI,WAAW,GAAG,CAAC,EAAE,OAAO,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;IAE5E,MAAM,MAAM,GAAG,WAAW,GAAG,MAAM,GAAG,CAAC,AAAC;IAExC,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,EAC5B,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,EACtB,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,AAAC;IAE9B,MAAM,KAAK,GAAG,MAAM,GAAG,CAAC,IAAK,MAAM,KAAK,CAAC,IAAK,CAAA,CAAC,CAAC,KAAK,IAAI,CAAC,CAAE,CAAA,MAAM,GAAG,CAAC,CAAA,AAAC,CAAA,AAAC,AAAC,AAAC;IAE1E,IAAI,KAAK,EAAE,OAAO,wCAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAE1C,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,GAAI,CAAA,MAAM,GAAG,CAAC,GAAG,CAAC,CAAA,AAAC,CAAC,AAAC;IAExD,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;CACrE;;;;;;;;;;;;;;;;;ACvDM,MAAM,yCAAM,GAAG,IAAI,AAAC;AACpB,MAAM,yCAAM,GAAG,yCAAM,GAAG,EAAE,AAAC;AAC3B,MAAM,yCAAO,GAAG,yCAAM,GAAG,EAAE,AAAC;AAC5B,MAAM,yCAAI,GAAG,yCAAO,GAAG,CAAC,AAAC;AACzB,MAAM,yCAAG,GAAG,yCAAI,GAAG,EAAE,AAAC;AACtB,MAAM,yCAAI,GAAG,yCAAG,GAAG,CAAC,AAAC;AACrB,MAAM,uCAAI,GAAG,yCAAG,GAAG,GAAG,AAAC;AACvB,MAAM,yCAAK,GAAG,uCAAI,GAAG,EAAE,AAAC;AACxB,MAAM,yCAAM,GAAG,yCAAK,GAAG,CAAC,AAAC;AAEhC,MAAM,8BAAQ,GAAG,IAAI,GAAG,CAAC;IACrB;QAAC,GAAG;QAAE,yCAAM;KAAC;IACb;QAAC,GAAG;QAAE,yCAAM;KAAC;IACb;QAAC,GAAG;QAAE,yCAAI;KAAC;IACX;QAAC,GAAG;QAAE,yCAAG;KAAC;IACV;QAAC,GAAG;QAAE,yCAAI;KAAC;IACX;QAAC,GAAG;QAAE,yCAAK;KAAC;IACZ;QAAC,GAAG;QAAE,uCAAI;KAAC;CACd,CAAC,AAAC;AAII,SAAS,wCAAQ,CACpB,GAAa,EACb,KAAe,GAAG,IAAI,IAAI,EAAE,EAC5B,GAAG,GAAG,8BAAQ,EAChB;IACE,MAAM,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,AAAC;IAEnD,KAAK,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;WAAI,GAAG;KAAC,CAAC,OAAO,EAAE,CAAE;QAC3C,MAAM,IAAI,GAAG,QAAQ,GAAG,IAAI,AAAC;QAE7B,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO;YAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;kBAAE,IAAI;SAAE,CAAC;KACxE;IAED,OAAO;kBAAE,QAAQ;QAAE,IAAI,EAAE,IAAI;KAAE,CAAC;CACnC;AAED,SAAS,6BAAO,CAAC,KAAa,EAAE;IAC5B,KAAK,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC;IAEpB,OAAO,CAAC,QAAgB,GACpB,AAAC,CAAA,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,GACzB,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,GACpC,KAAK,CAAA,CACT,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;CAC9C;AAEM,SAAS,yCAAU,CACtB,IAAc,GAAG,IAAI,IAAI,EAAE,EAC3B,QAAQ,GAAG,qBAAqB,EAClC;IACE,IAAI,GAAG,IAAI,YAAY,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;IACpD,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,EAAE,GAAG,yCAAM,CAAC,CAAC;IAE3D,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,GAAG,IAAI,CAC7D,MAAM,EAAE,CACR,KAAK,MAAM,AAAC;IAEjB,OAAO,QAAQ,CACV,OAAO,QAAQ,WAAW,CAAC,CAC3B,OAAO,QAAQ,6BAAO,CAAC,IAAI,CAAC,CAAC,CAC7B,OAAO,QAAQ,6BAAO,CAAC,KAAK,CAAC,CAAC,CAC9B,OAAO,QAAQ,6BAAO,CAAC,GAAG,CAAC,CAAC,CAC5B,OAAO,QAAQ,6BAAO,CAAC,IAAI,CAAC,CAAC,CAC7B,OAAO,QAAQ,6BAAO,CAAC,MAAM,CAAC,CAAC,CAC/B,OAAO,QAAQ,6BAAO,CAAC,MAAM,CAAC,CAAC,CAAC;CACxC;AAEM,SAAS,yCAAW,CAAC,IAAc,EAAE,KAAa,EAAE;IACvD,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;IAEtB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,KAAK,AAAC;IAEtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;IAE9D,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;IAEnB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;IAE9C,OAAO,IAAI,CAAC;CACf;;;;;;;;ACjFM,SAAS,yCAAQ,CACpB,IAAuB,EACvB,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,IAAI,OAAO,EACrD;IACE,MAAM,SAAS,GAAG;WAAI,SAAS,CAAC,SAAS;QAAE,QAAQ;KAAC,AAAC;IACrD,MAAM,SAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,CAAA,QAAQ,GAAI,QAAQ,IAAI,IAAI,CAAC,AAAC;IAC9D,MAAM,KAAK,GAAM,MAAM,CAAC,MAAM,CAC1B,EAAE,KACC,SAAS,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAA,IAAI,GAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CACjD,AAAC;IACF,QAAQ,CAAC,eAAe,CAAC,IAAI,GAAG,SAAQ,CAAC;IAEzC,OAAO;QAAE,QAAQ,EAAR,SAAQ;eAAE,KAAK;KAAE,CAAC;CAC9B;AAEM,SAAS,yCAAc,CAAC,GAAG,GAAG,EAAE,EAAE;IACrC,OACI,IAAI,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IACnC,IAAI,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CACpD;CACL;AAEM,SAAS,yCAAQ,CAAC,GAAG,KAAK,AAAU,EAAE;IACzC,OAAO,KAAK,CACP,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,GAAK;YAKoB,GAAgB;QAJrD,MAAM,IAAI,GAAG,yCAAc,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,AAAC;QAE3C,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,MAAM,EAAE,OAAO,GAAG,CAAC;QAE3C,MAAM,IAAI,GAAG,IAAI,KAAK,yCAAc,CAAC,CAAA,GAAgB,GAAhB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,cAAhB,GAAgB,WAAM,GAAtB,KAAA,CAAsB,GAAtB,GAAgB,CAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,AAAC;QAElE,OAAO,GAAG,GAAI,CAAA,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,EAAE,CAAA,AAAC,CAAC;KAC1C,CAAC,CACD,IAAI,CAAC,EAAE,CAAC,CAAC;CACjB;;;;;;;;AClCM,SAAS,yCAAS,CAAC,GAAW,EAAE;IACnC,SAAS,SAAS,CAAC,KAAU,EAAE;QAC3B,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,sBAAsB,IAAI,CAAC,KAAK,CAAC,EAAE;YAChE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,AAAC;YAE7B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC;SACzC;QACD,OAAO,KAAK,CAAC;KAChB;IAED,MAAM,MAAK,GAAG,SAAS,CAAC,GAAG,CAAC,AAAC;IAE7B,IAAI,OAAO,MAAK,KAAK,QAAQ,EAAE,OAAO,MAAK,CAAC;IAE5C,IAAI;QACA,OAAO,WAAW,IAAI,CAAC,MAAK,CAAC,IACzB,MAAK,CAAC,aAAa,CAAC,MAAM,CAAC,gBAAgB,GAAG,EAAE,EAAE,SAAS,EAAE;YACzD,OAAO,EAAE,IAAI;SAChB,CAAC,GAAG,CAAC,GACJ,MAAK,GACL,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,GAAK,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;KAC3D,CAAC,OAAM;QACJ,OAAO,GAAG,CAAC;KACd;CACJ;AAEM,SAAS,yCAAS,CAAC,GAAW,EAAE;IACnC,MAAM,MAAM,GAAG,yCAAS,CAAC,GAAG,CAAC,AAAC;IAE9B,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,OAAO,MAAM,CAAC;IAE9C,MAAM,MAAM,GAAG,CAAC,MAAM,AAAC;IAEvB,OAAO,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,MAAM,GAAG,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;CAC3E;AAED,SAAS,oCAAc,CAAC,GAAW,EAAE;IACjC,MAAM,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,AAAC;IACrB,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,AAAC;IAEpC,IAAI,KAAK,GAAG,CAAC,EAAE,MAAM,WAAW,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;IAE1D,OAAO,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;CAC9B;AAEM,SAAS,yCAAc,CAC1B,GAAW,EACX,MAAgB,EAChB,SAAS,GAAG,GAAG,EACjB;IACE,MAAM,IAAI,GAAG,GAAG,CACX,IAAI,EAAE,CACN,KAAK,WAAW,CAChB,GAAG,CAAC,CAAA,GAAG,GAAI;QACR,MAAM,IAAI,GAAG,EAAE,AAAC;QAEhB,GAAG;YACC,IAAI,KAAK,AAAQ,AAAC;YAElB,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;gBAClC,KAAK,GAAG,oCAAc,CAAC,GAAG,CAAC,CAAC;gBAE5B,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACrC,MAAM;gBACH,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,AAAC;gBAErC,IAAI,KAAK,GAAG,EAAE,EAAE;oBACZ,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;oBAC5B,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;iBAC9B,MAAM;oBACH,KAAK,GAAG,GAAG,CAAC;oBACZ,GAAG,GAAG,EAAE,CAAC;iBACZ;aACJ;YACD,IAAI,CAAC,IAAI,CAAC,yCAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SACtC,OAAQ,GAAG,EAAE;QAEd,OAAO,IAAI,CAAC;KACf,CAAC,AAAC;IAEP,OAAO,CAAC,MAAM,GACR,IAAI,GACJ,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,GAAG,GACjB,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,GAAK;YAChC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;YAE9B,OAAO,MAAM,CAAC;SACjB,EAAE,EAAE,CAAM,CACd,CAAC;CACX;;;;;;;;;;ACzFD;;AAGO,SAAS,yCAAS,CAAC,GAAW,EAAE;IACnC,OAAO,IAAI,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,CAAC,MAAM,CAAC;CACpE;AAOM,SAAS,yCAAY,CACxB,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,EAC5B,SAAS,GAAG,IAAI,EACT;IACP,MAAM,KAAI,GAAG,GAAG,CAAC,KAAK,QAAQ,AAAC;IAC/B,MAAM,IAAI,GAAG,IAAI,eAAe,CAAC,KAAI,CAAC,CAAC,CAAC,IAAI,KAAI,CAAC,CAAC,CAAC,CAAC,AAAC;IAErD,OAAO,MAAM,CAAC,WAAW,CACrB;WAAI,IAAI,CAAC,IAAI,EAAE;KAAC,CAAC,GAAG,CAAC,CAAA,GAAG,GAAI;QACxB,MAAM,IAAI,GAAG,SAAS,GAChB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA,GAAA,yCAAS,CAAA,CAAC,GAC/B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,AAAC;QAEvB,OAAO;YAAC,GAAG;YAAE,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI;SAAC,CAAC;KAClD,CAAC,CACL,CAAC;CACL;AAED,MAAM,+BAAS,GAAG,CAAC,KAAU,GACzB,OAAO,KAAK,KAAK,QAAQ,GACnB,KAAK,GACL,CAAA,GAAA,yCAAS,CAAA,CAAC,KAAK,CAAC,GAChB,CAAA,GAAA,yCAAS,CAAA,CAAC,KAAK,CAAC,GAAG,EAAE,GACrB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,AAAC;AAEzB,SAAS,yCAAY,CAAC,GAAqC,EAAE;IAChE,IAAI,CAAE,CAAA,GAAG,YAAY,KAAK,CAAA,AAAC,EAAE,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAEvD,MAAM,IAAI,GAAG,AAAC,GAAG,CACZ,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,GAAK,CAAC,CAAA,GAAA,yCAAO,CAAA,CAAC,KAAK,CAAC,IAAI;YAAC,GAAG;YAAE,+BAAS,CAAC,KAAK,CAAC;SAAC,CAAC,CACjE,MAAM,CAAC,OAAO,CAAC,AAAC;IAErB,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;CACpC;AAEM,eAAe,yCAAM,CAAC,GAAiB,EAAE;IAC5C,OAAO,AAAC,CAAA,MAAM,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC,CAAA,CAAE,IAAI,EAAE,CAAC;CACzC;AAED,MAAM,6BAAO,4CAA4C,AAAC;AAMnD,SAAS,yCAAQ,CAAC,GAAW,EAAE;IAClC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,6BAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,AAAC;IAE1D,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAElC,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,AAAC;IAC7C,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,AAAC;IAExC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAE,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAE9D,OAAO,IAAI,IAAI,CAAC;QAAC,OAAO;KAAC,EAAE;cAAE,IAAI;KAAE,CAAC,CAAC;CACxC;;;;;;;ACpED,MAAM,kCAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,GAAK;IACzD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CACtB,IAAI,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,AAAE,IAAI,IAAI,CAAC,GAAI,UAAU,GAAI,UAAU,CAAC;SACxD,IAAI,GAAG,AAAC,IAAI,IAAI,CAAC,GAAI,UAAU,CAAC;IAEzC,OAAO,IAAI,CAAC;CACf,CAAC,AAAC;AAOI,SAAS,yCAAS,CAAC,GAAW,EAAE;IACnC,IAAI,KAAK,GAAG,UAAU,AAAC;IAEvB,KAAK,MAAM,IAAI,IAAI,GAAG,CAClB,KAAK,GACD,AAAE,KAAK,IAAI,CAAC,GAAI,UAAU,GAC1B,kCAAY,CAAC,AAAC,KAAK,GAAG,IAAI,GAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IAE1D,OAAO,IAAI,GAAG,AAAC,CAAA,AAAC,CAAA,KAAK,GAAG,UAAU,CAAA,KAAM,CAAC,CAAA,CAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;CAC3D;AAED,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;IAC1B,IAAI,UAAU,IAAI,UAAU,EAAE;QAC1B,aAAa;QACb,MAAM,UAAE,MAAM,CAAA,EAAE,GAAI,UAAU,CAAC,MAAM,GAAG,UAAU,CAAC,QAAQ,AAAU,AAAC,AAAC;QAEvE,IAAK,MAAM,GAAG,IAAI,MAAM,CAAE;YACtB,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,AAAC;YAE3B,IAAI,MAAM,YAAY,QAAQ,EAC1B,MAAM,CAAC,GAAG,CAAC,GAAG,WAAY;gBACtB,MAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,AAAC;gBAE/C,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,GAAK;oBACpC,QAAQ,CAAC,UAAU,GAAG,CAAC,UACnB,MAAM,CAAA,EAC4B,GAClC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBAE3B,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,GAAG,MAAM,CAAC;iBAChD,CAAC,CAAC;aACN,CAAC;SACT;KACJ;IACD,MAAM,UAAE,MAAM,CAAA,EAAE,GAAG,UAAU,AAAC;IAE9B,IAAI,CAAC,CAAA,MAAM,aAAN,MAAM,WAAQ,GAAd,KAAA,CAAc,GAAd,MAAM,CAAE,MAAM,CAAA,IAAI,CAAA,MAAM,aAAN,MAAM,WAAkB,GAAxB,KAAA,CAAwB,GAAxB,MAAM,AAAE,CAAC,cAAc,CAAC,CAAA,EAC3C,aAAa;IACb,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;CAC9C;AAOM,eAAe,yCAAO,CAAC,GAAW,EAAE,SAAuB,GAAG,OAAO,EAAE;IAC1E,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CACrC,SAAS,EACT,IAAI,WAAW,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAChC,AAAC;IACF,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,EAAE,CAAA,IAAI,GAC1C,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CACrC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;CACd;;;;;;;;;;;;;;;;;;;;;;;;;AEnED;;IA4IS,4BAAK,EAAC,kCAAW;AAvI1B,MAAM,iCAAW,GAA4B,EAAE,AAAC;AAEzC,SAAS,yCAAU,CAAC,OAAe,EAAE;IACxC,IAAI,iCAAW,CAAC,OAAO,CAAC,EAAE,OAAO,iCAAW,CAAC,OAAO,CAAC,CAAC;IAEtD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,AAAC;IAEjD,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAEnC,OAAQ,iCAAW,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,iBAAiB,AAAC,CAAE;CACpE;AAEM,SAAS,yCAAa,CAAC,OAAe,EAAE;IAC3C,MAAM,IAAI,GAAG,yCAAU,CAAC,OAAO,CAAC,AAAC;IAEjC,OAAO,IAAI,YAAY,WAAW,IAAI,CAAE,CAAA,IAAI,YAAY,kBAAkB,CAAA,AAAC,GACrE,MAAM,GACN,KAAK,CAAC;CACf;AAEM,SAAS,yCAAkB,CAC9B,KAAU,EACA;IACV,OAAO,CAAA,GAAA,yCAAiB,CAAA,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;CAChD;AAED,MAAM,6BAAO,GAAG,IAAI,OAAO,EAAoC,AAAC;AAEzD,SAAS,yCAAS,CAAC,KAA+B,EAAE;IACvD,MAAM,IAAI,GAAG,6BAAO,CAAC,GAAG,CAAC,KAAK,CAAC,AAAC;IAEhC,IAAI,IAAI,EAAE,OAAO,IAAI,CAAC;IAEtB,IAAI,WAAE,OAAO,CAAA,EAAE,GAAG,IAAI,KAAK,EAAE,AAAC;IAE9B,6BAAO,CAAC,GAAG,CAAC,KAAK,EAAG,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAE,CAAC;IAEtD,OAAO,OAAO,CAAC;CAClB;AAEM,SAAS,yCAAa,CACzB,OAAU,EACV,YAAuD,EACzD;IACE;;OAEG,CACH,MAAM,mBAAmB,GAA2C;QAChE;YAAC,eAAe;YAAE;gBAAC,OAAO;aAAC;SAAC;QAC5B;YAAC,iBAAiB;YAAE;gBAAC,SAAS;aAAC;SAAC;QAChC;YAAC,iBAAiB;YAAE;gBAAC,MAAM;aAAC;SAAC;QAC7B;YAAC,gBAAgB;YAAE;gBAAC,MAAM;gBAAE,MAAM;aAAC;SAAC;QACpC;YAAC,iBAAiB;YAAE;gBAAC,MAAM;aAAC;SAAC;QAC7B;YAAC,iBAAiB;YAAE;gBAAC,MAAM;aAAC;SAAC;QAC7B;YAAC,mBAAmB;YAAE;gBAAC,MAAM;aAAC;SAAC;QAC/B;YAAC,iBAAiB;YAAE;gBAAC,MAAM;aAAC;SAAC;QAC7B;YAAC,mBAAmB;YAAE;gBAAC,MAAM;aAAC;SAAC;KAClC,AAAC;IACF,MAAM,QAAQ,GAAG,yCAAU,CAAC,OAAO,CAAC,AAAC;IAErC,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,mBAAmB,CAC3C,IAAI,QAAQ,YAAY,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAW,EAClE,OAAO,IAAI,CAAC;IACpB,OAAO,KAAK,CAAC;CAChB;AAEM,SAAS,yCAAQ,CAAC,IAAY,EAAE;IACnC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,AAAC;IAEjD,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;IAEvB,OAAO;WAAI,KAAK,CAAC,OAAO,CAAC,UAAU;KAAC,CAAC,GAAG,CAAC,CAAA,IAAI,GAAI;QAC7C,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,OAAO,IAAI,CAAC;KACf,CAAC,CAAC;CACN;AAEM,SAAS,yCAAY,CAAC,IAAU,EAAE;IACrC,OAAO,IAAI,aAAa,EAAE,CACrB,iBAAiB,CAAC,IAAI,CAAC,CACvB,OAAO,+CAA+C,EAAE,CAAC,CAAC;CAClE;AAEM,UAAU,yCAAO,CACpB,IAAU,EACV,IAAuB,EACX;IACZ,MAAM,QAAQ,GAAG;WAAI,IAAI,CAAC,UAAU;KAAC,AAAC;IAEtC,IAAI,CAAA,GAAA,yCAAO,CAAA,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,AAAK,CAAC;IAE7D,KAAK,MAAM,IAAI,IAAI,QAAQ,CAAE,OAAO,yCAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;CAC3D;AAEM,SAAS,yCAAc,CAAC,IAAa,EAAE;IAC1C,IAAI,IAAI,GAAG,EAAE,AAAC;IAEd,KAAK,MAAM,YAAE,QAAQ,CAAA,iBAAE,aAAa,CAAA,aAAE,SAAS,CAAA,EAAE,IAAI,yCAAO,CAAC,IAAI,CAAC,CAC9D,IACI,QAAQ,KAAK,IAAI,CAAC,SAAS,IAC3B,aAAa,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,MAAM,EACtD;QACE,MAAM,SAAE,KAAK,CAAA,UAAE,MAAM,CAAA,EAAE,GAAG,aAAa,CAAC,qBAAqB,EAAE,AAAC;QAEhE,IAAI,KAAK,IAAI,MAAM,EAAE,IAAI,IAAI,SAAS,CAAC,IAAI,EAAE,CAAC,OAAO,SAAS,GAAG,CAAC,CAAC;KACtE;IAEL,OAAO,IAAI,CAAC;CACf;AAQM,SAAS,yCAAU,CACtB,eAAE,WAAW,CAAA,YAAE,QAAQ,CAAA,EAAe,EACtC,UAAU,GAAG,MAAM,EACnB,SAAS,GAAG,MAAM,EACpB;IACE,MAAM,YAAY,GAAG,AAAC,UAAU,GAAG,SAAS,GAAI,WAAW,AAAC;IAC5D,IAAI,MAAM,GAAG,CAAC,AAAC;IAEf,OAAO;WAAI,QAAQ;KAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,IAAI,GAAK;QACzC,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,EAAE,YAAY,EAAE,MAAM,CAAA,EAAE,GAAG,IAAI,AAAe,AAAC;QACnE,GAAG,IAAI,MAAM,CAAC;QACd,IAAI,MAAM,GAAG,GAAG,GAAG,MAAM,AAAC;QAE1B,MAAM,YAAY,GAAG,MAAM,GAAG,YAAY,AAAC;QAC3C,MAAM,QAAQ,GAAG,CAAC,CAAE,CAAA,GAAG,GAAG,YAAY,CAAA,AAAC,EACnC,WAAW,GAAG,CAAC,CAAC,YAAY,AAAC;QAEjC,IAAI,QAAQ,KAAK,WAAW,EAAE,MAAM,IAAI,MAAM,GAAG,YAAY,CAAC;QAE7D,CAAA,CAAA,4BAAK,GAAL,KAAK,CAAA,CAAC,kCAAW,GAAX,WAAW,CAAC,KAAlB,4BAAK,CAAC,kCAAW,CAAC,GAAK,EAAE,CAAA,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvC,OAAO,KAAK,CAAC;KAChB,EAAE,EAAE,CAAgB,CAAC;CACzB;AAUM,SAAS,yCAAS,CACrB,GAAW,EACX,aAAE,SAAS,CAAA,EAAE,GAAG,OAAO,EAAc,GAAG,EAAE,AAAc,EAC1D;IACE,MAAM,KAAK,GAAG;WAAI,QAAQ,CAAC,WAAW;KAAC,CAAC,IAAI,CAAC,CAAC,QAAE,IAAI,CAAA,EAAE,GAAK,IAAI,KAAK,GAAG,CAAC,AAAC;IAEzE,IAAI,KAAK,EAAE,OAAO,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAEzC,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,AAAC;IAE5C,OAAO,IAAI,OAAO,CAAgB,CAAC,OAAO,EAAE,MAAM,GAAK;QACnD,IAAI,CAAC,MAAM,GAAG,IAAM,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,GAAK,MAAM,CAAC,KAAK,CAAC,CAAC;QAExD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAE7B,IAAI,CAAC,GAAG,GAAG,AAAC,CAAA,SAAS,GAAG,YAAY,GAAG,EAAE,CAAA,GAAI,YAAY,CAAC;QAC1D,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAEhB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC9B,CAAC,CAAC;CACN;AAEM,SAAS,yCAAY,CACxB,IAA2B,EAC3B,KAAK,GAAG,CAAC,EACT,MAAM,GAAG,MAAM,EACT;IACN,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,AAAC;IAErC,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CACtB,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,GACd,OAAO,KAAK,KAAK,QAAQ,GACnB,CAAC,EAAE,OAAO,CAAC,EAAE,CAAA,GAAA,yCAAY,CAAA,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,GAC3C,CAAC,EAAE,OAAO,CAAC,EAAE,GAAG,CAAC;AACnC,EAAE,yCAAY,CAAC,KAAK,EAAe,KAAK,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;AACtD,EAAE,OAAO,CAAC,CAAC,CAAC,CACH,CACA,IAAI,CAAC,IAAI,CAAC,CAAC;CACnB;AAEM,SAAS,yCAAc,CAAC,GAAG,KAAK,AAAQ,EAAE;IAC7C,MAAM,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,AAAC;IAEnD,QAAQ,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC;IAE1B,KAAK,MAAM,IAAI,IAAI,yCAAO,CAAC,QAAQ,CAAC,CAChC,IACI,CAAC;AAAC,SAAC;AAAE,SAAC;AAAE,UAAE;KAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IACnC;QAAC,MAAM;QAAE,OAAO;QAAE,MAAM;QAAE,QAAQ;KAAC,CAAC,QAAQ,CACxC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAC9B,EAED,AAAC,IAAI,CAAe,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;IAE5D,MAAM,SAAS,GAAG,UAAU,CAAC,YAAY,EAAE,AAAC;IAE5C,IAAI,CAAC,SAAS,EAAE,OAAO;IAEvB,MAAM,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,AAAC;IAEtC,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;CAC9B;AAEM,SAAS,yCAAQ,CACpB,QAAgB,EAChB,IAAc,EACd,KAA6B,EAC7B,OAA+B,EACjC;QAKM,GACkD;IALtD,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,SAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,AAAC;IAE9C,IAAI,EAAE,KAAK,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC;QAAE,GAAG,EAAE,CAAC;QAAE,IAAI,EAAE,CAAC;QAAE,QAAQ,EAAE,QAAQ;KAAE,CAAC,CAAC;SAEvE,CAAA,GACkD,GADlD,AAAC,CAAA,IAAI,IAAI,QAAQ,CAAA,CACZ,aAAa,CAAC,EAAE,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,cADlD,GACkD,WAC9B,GAFpB,KAAA,CAEoB,GAFpB,GACkD,CAC5C,cAAc,CAAC;QACb,QAAQ,EAAE,QAAQ;QAClB,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,OAAO;KAClB,CAAC,CAAC;CACd;AAOM,SAAS,yCAAW,CACvB,GAAgB,EAChB,OAAoC,EACpC,KAAK,GAAG,CAAC,EACX;IACE,OAAO,KAAK,CAAC,IAAI,CACb,GAAG,CAAC,gBAAgB,CAChB,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,GAAK,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CACjE,EACD,CAAA,MAAM,GAAI;QACN,IAAI,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC,GAAK;YACjC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO;YAEjC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,AAAsB,AAAC;YAEjD,OAAO,CAAC;wBACJ,MAAM;gBACN,KAAK,EAAE;uBACA,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAEtC,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;iBAC9B;aACJ,CAAC,CAAC;SACN,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAEnB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,EACjB,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,OAAO,SAAS,GAAG,CAAC,CAAC;QAE/D,OAAO;YACH,KAAK,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;YACzB,EAAE,EAAE,MAAM,CAAC,EAAE;YACb,IAAI,EAAE,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE;SAClC,CAAC;KACL,CACJ,CAAC;CACL;AAEM,SAAS,yCAAY,CACxB,IAAa,EACb,OAAkC,EACpC;IACE,IAAI,IAAI,GAAG,QAAQ,CAAC,eAAe,KAAK,SAAS,GAAG,CAAC,GAAG,CAAC,AAAC;IAE1D,SAAS,MAAM,CAAC,KAAa,EAAE;QAC3B,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;QAEpD,IAAI,GAAG,KAAK,CAAC;KAChB;IAED,IAAI,oBAAoB,CAAC,CAAC,CAAC,kBAAE,cAAc,CAAA,EAAE,CAAC,GAC1C,MAAM,CAAC,cAAc,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,CAC/C,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAEhB,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,IAC1C,MAAM,CAAC,QAAQ,CAAC,eAAe,KAAK,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,CACvE,CAAC;CACL;AAEM,SAAS,yCAAU,CACtB,IAA2C,EAC7C;IACE,MAAM,IAAI,GAAG,EAAE,AAAK,AAAC;IAErB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAE;QAC/B,IAAI,QACA,IAAI,CAAA,QACJ,IAAI,CAAA,EACJ,KAAK,EAAL,MAAK,CAAA,WACL,OAAO,CAAA,gBACP,YAAY,CAAA,mBACZ,eAAe,CAAA,SACf,KAAK,CAAA,EACR,GAAG,KAAK,AAAa,AAAC;QAEvB,IAAI,CAAC,IAAI,IAAI,MAAK,KAAK,EAAE,EAAE,SAAS;QAEpC,MAAM,GAAG,GAAG,IAAI,KAAK,UAAU,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,AAAC;QAE7D,IAAI,GAAG,IAAI,GAAG,KAAK,IAAI,EAAE,SAAS;QAElC,IAAI,WAAW,GAAQ,MAAK,AAAC;QAE7B,OAAQ,IAAI;YACR,KAAK,OAAO,CAAC;YACb,KAAK,UAAU;gBACX,IAAI,OAAO,EACP,WAAW,GAAG,YAAY,GAAG,CAAA,GAAA,yCAAS,CAAA,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;qBAC3D,SAAS;gBACd,MAAM;YACV,KAAK,iBAAiB;gBAClB,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,SAAE,KAAK,CAAA,EAAE,GAChD,CAAA,GAAA,yCAAS,CAAA,CAAC,KAAK,CAAC,CACnB,CAAC;gBACF,MAAM;YACV,KAAK,UAAU;gBACX,WAAW,GAAG,yCAAU,CAAC,KAAK,CAAwB,CAAC;gBACvD,MAAM;YACV,KAAK,MAAM;gBACP,WAAW,GAAG,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACzC,MAAM;YACV,KAAK,MAAM,CAAC;YACZ,KAAK,gBAAgB,CAAC;YACtB,KAAK,OAAO,CAAC;YACb,KAAK,QAAQ,CAAC;YACd,KAAK,QAAQ,CAAC;YACd,KAAK,OAAO,CAAC;YACb,KAAK,YAAY;gBACb,WAAW,GAAG,CAAA,GAAA,yCAAS,CAAA,CAAC,MAAK,CAAC,CAAC;SACtC;QAED,IAAI,IAAI,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,WAAW,CAAC,CAAC;aAE9D,IAAI,CAAC,IAAI,CAAC,GACN,CAAE,CAAA,WAAW,YAAY,KAAK,CAAA,AAAC,IAAI,CAAC,CAAA,GAAA,yCAAO,CAAA,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GACrD,WAAW,GACX,WAAW,CAAC,CAAC,CAAC,CAAC;KAChC;IAED,OAAO,IAAI,CAAC;CACf;;;;;;;AC1WM,SAAS,yCAAK,CAAC,OAAO,GAAG,CAAC,EAAE;IAC/B,OAAO,IAAI,OAAO,CAAO,CAAA,OAAO,GAAI,UAAU,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC;CAC5E;AAEM,SAAS,yCAAS,CAAC,QAAiC,EAAE,OAAO,GAAG,CAAC,EAAE;IACtE,IAAI,IAAI,GAAG,KAAK,AAAC;IAEhB,CAAA,UAAY;QACT,MAAO,CAAC,IAAI,CAAE;YACV,MAAM,MAAM,GAAG,QAAQ,EAAE,AAAC;YAE1B,IAAI,MAAM,YAAY,OAAO,EAAE,MAAM,MAAM,CAAC;YAE5C,MAAM,yCAAK,CAAC,OAAO,CAAC,CAAC;SACxB;KACJ,CAAA,EAAG,CAAC;IAEL,OAAO,IAAO,IAAI,GAAG,IAAI,AAAC,CAAC;CAC9B;;;;;;;;;;;AClBD;AAQO,SAAS,yCAAQ,CACpB,QAAgB,EAChB,OAAgC,EAClC;IACE,OAAO,SAAsB,KAAY,EAAE;QACvC,IAAI,IAAI,AAAa,EACjB,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,AAAC;QAEhC,MAAO,AAAC,CAAA,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAA,IAAK,IAAI,KAAK,KAAK,CAAC,aAAa,CACxD,IAAI,IAAI,YAAY,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EACrD,OAAO,OAAO,CAAC,IAAI,CACf,IAAI,EACJ,KAAK,EACL,IAAI,EACJ,AAAC,KAAK,CAAiB,MAAM,CAChC,CAAC;KACb,CAAC;CACL;AAEM,MAAM,yCAAa,GACtB,OAAO,MAAM,KAAK,WAAW,GACvB,IAAI,OAAO,CAAO,CAAA,OAAO,GAAI;IACzB,SAAS,IAAI,GAAG;QACZ,QAAQ,aAAR,QAAQ,WAAqB,GAA7B,KAAA,CAA6B,GAA7B,QAAQ,CAAE,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC;KACb;IACD,QAAQ,aAAR,QAAQ,WAAkB,GAA1B,KAAA,CAA0B,GAA1B,QAAQ,CAAE,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;IACrD,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAEtC,UAAU,CAAC,SAAS,KAAK,GAAG;QACxB,CAAA,QAAQ,aAAR,QAAQ,WAAY,GAApB,KAAA,CAAoB,GAApB,QAAQ,CAAE,UAAU,CAAA,KAAK,UAAU,GAC7B,OAAO,EAAE,GACT,UAAU,CAAC,KAAK,CAAC,CAAC;KAC3B,CAAC,CAAC;CACN,CAAC,GACF,OAAO,CAAC,OAAO,EAAE,AAAC;AAErB,SAAS,yCAAS,CAAkB,KAAa,EAAE,OAAgB,EAAE;IACxE,OAAO,IAAI,OAAO,CAAI,CAAC,OAAO,EAAE,MAAM,GAAK;QACvC,SAAS,GAAG,CAAC,KAAQ,EAAE;YACnB,OAAO,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;SAC3B;QACD,SAAS,MAAM,CAAC,KAAQ,EAAE;YACtB,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC;SAC1B;QAED,SAAS,KAAK,GAAG;YACb,OAAO,CAAC,mBAAmB,CAAC,KAAK,GAAG,KAAK,EAAE,GAAG,CAAC,CAAC;YAChD,OAAO,CAAC,mBAAmB,CAAC,KAAK,GAAG,QAAQ,EAAE,MAAM,CAAC,CAAC;SACzD;QAED,OAAO,CAAC,gBAAgB,CAAC,KAAK,GAAG,KAAK,EAAE,GAAG,CAAC,CAAC;QAC7C,OAAO,CAAC,gBAAgB,CAAC,KAAK,GAAG,QAAQ,EAAE,MAAM,CAAC,CAAC;KACtD,CAAC,CAAC;CACN;AAIM,SAAS,yCAAmB,CAC/B,QAA2D,EAC7D;IACE,eAAe,MAAM,CAAC,EAClB,IAAI,EAAE,QAAE,IAAI,CAAA,MAAE,EAAE,CAAA,EAAE,GAAG,IAAI,EAAE,CAAA,UAC3B,MAAM,CAAA,UACN,MAAM,CAAA,EACK,EAAE;YACA,GAAc;QAA3B,IAAI,MAAM,GAAG,CAAA,GAAc,GAAd,QAAQ,CAAC,IAAI,CAAC,cAAd,GAAc,WAAQ,GAAtB,KAAA,CAAsB,GAAtB,GAAc,CAAd,IAAsB,CAAtB,QAAQ,EAAS,IAAI,CAAC,AAAC;QAEpC,IAAI,MAAM,YAAY,OAAO,EAAE,MAAM,GAAG,MAAM,MAAM,CAAC;QACrD,aAAa;QACb,AAAC,MAAM,CAAmB,WAAW,CAAC;YAAE,GAAG,MAAM;gBAAE,EAAE;SAAE,EAAE,MAAM,CAAC,CAAC;KACpE;IAED,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAE/C,OAAO,IAAM,UAAU,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;CAClE;AAEM,SAAS,yCAAmB,CAAC,MAAuB,EAAE,MAAM,GAAG,GAAG,EAAE;IACvE,OAAO,CAAC,IAAY,EAAE,KAAU,GAC5B,IAAI,OAAO,CAAC,CAAA,OAAO,GAAI;YACnB,MAAM,GAAG,GAAG,CAAA,GAAA,yCAAQ,CAAA,EAAE,AAAC;YAEvB,SAAS,OAAO,CAAC,EAAE,IAAI,EAAE,MAAE,EAAE,CAAA,EAAE,GAAG,IAAI,EAAE,CAAA,EAAgB,EAAE;gBACtD,IAAI,EAAE,KAAK,GAAG,EAAE,OAAO;gBAEvB,OAAO,CAAC,IAAI,CAAC,CAAC;gBAEd,UAAU,CAAC,mBAAmB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;aACtD;YAED,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAChD,aAAa;YACb,MAAM,CAAC,WAAW,CAAC;gBAAE,EAAE,EAAE,GAAG;sBAAE,IAAI;gBAAE,GAAG,KAAI;aAAE,EAAE,MAAM,CAAC,CAAC;SAC1D,CAAC,CAAC;CACV;AAEM,SAAS,yCAAmB,CAAC,YAAuC,EAAE;IACzE,OAAO,IAAI,OAAO,CAAgB,CAAA,OAAO,GAAI;QACzC,IAAI,YAAY,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE/D,YAAY,CAAC,aAAa,GAAG;gBACzB,GAAuB;YAAvB,OAAA,CAAA,GAAuB,GAAvB,YAAY,CAAC,UAAU,cAAvB,GAAuB,WAAkB,GAAzC,KAAA,CAAyC,GAAzC,GAAuB,CAAE,gBAAgB,CACrC,aAAa,EACb,WAAY;gBACR,IACI,IAAI,CAAC,KAAK,KAAK,WAAW,IAC1B,SAAS,CAAC,aAAa,CAAC,UAAU,EAElC,OAAO,CAAC,IAAI,CAAC,CAAC;aACrB,CACJ,CAAA;SAAA,CAAC;KACT,CAAC,CAAC;CACN;;;;;;;;;;;;;AC1HD;AAQO,MAAM,yCAAU;IASnB,IAAI,MAAM,GAAG;QACT,MAAM,QAAE,IAAI,CAAA,MAAE,EAAE,CAAA,EAAE,GAAG,IAAI,AAAC;QAE1B,OAAO,IAAI,CAAC,IAAI,CACZ,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GACtB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GACzB,CAAA,EAAE,CAAC,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAA,AAAC,CACtD,CAAC;KACL;IAED,IAAI,SAAS,GAAG;QACZ,MAAM,QAAE,IAAI,CAAA,MAAE,EAAE,CAAA,EAAE,GAAG,IAAI,AAAC;QAC1B,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EACpB,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAClB,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,AAAC;QACvB,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EACnB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EACjB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,AAAC;QAEtB,OAAQ,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YACvD,KAAK,EAAE;gBACH,OAAO,EAAE,GAAG,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC;YACrC,KAAK,EAAE;gBACH,OAAO,EAAE,GAAG,CAAC,GAAG,SAAS,GAAG,UAAU,CAAC;YAC3C,KAAK,EAAE;gBACH,OAAO,EAAE,GAAG,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;SACrC;KACJ;IAhCD,YAAY,IAAyB,EAAE,EAAuB,CAAE;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;KAChB;CA8BJ;AAEM,SAAS,yCAAc,CAC1B,IAAyB,EACzB,EAAuB,EACvB,SAAS,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EACpE;QAGqC,GAAc;IAFjD,MAAM,MAAM,GAAG,IAAI,yCAAU,CAAC,IAAI,EAAE,EAAE,CAAC,AAAC;IAExC,IAAI,MAAM,CAAC,MAAM,IAAI,SAAS,IAAI,CAAC,CAAA,CAAA,GAAc,GAAd,YAAY,EAAE,cAAd,GAAc,WAAU,GAAxB,KAAA,CAAwB,GAAxB,GAAc,CAAE,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAA,EAChE,OAAO,MAAM,CAAC;CACrB;AASM,SAAS,wCAAU,CAAC,IAAmB,EAAE,OAAoB,EAAE;IAClE,MAAM,sBAAE,kBAAkB,CAAA,qBAAE,iBAAiB,CAAA,EAAE,GAAG,gBAAgB,CAAC,OAAO,CAAC,AAAC;IAE5E,MAAM,QAAQ,GACV,IAAI,KAAK,WAAW,GAAG,iBAAiB,GAAG,kBAAkB,AAAC;IAElE,OAAO,UAAU,CAAC,QAAQ,CAAC,GAAI,CAAA,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,IAAI,GAAG,CAAC,GAAG,IAAI,CAAA,AAAC,CAAC;CAC1E;AAEM,SAAS,yCAAW,CACvB,IAAO,EACP,OAAoB,EACtB;IACE,OAAO,OAAO,CAAC,IAAI,CAA4B;QAC3C,CAAA,GAAA,yCAAS,CAAA,CAAqB,IAAI,EAAE,OAAO,CAAC,CAAC,KAAK,CAAC,CAAA,KAAK,GACpD,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CACzB;QACD,IAAI,OAAO,CAAO,CAAA,OAAO,GACrB,UAAU,CAAC,OAAO,EAAE,wCAAU,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CACjD;KACJ,CAAC,CAAC;CACN;AAED,SAAS,4BAAM,CACX,IAAO,EACP,OAAoB,EACpB,SAAiB,EACjB,OAAe,EACjB;IACE,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;IAEhC,MAAM,GAAG,GAAG,yCAAW,CAAC,IAAI,EAAE,OAAO,CAAC,AAAC;IAEvC,OAAO,IAAI,OAAO,CAA4B,CAAA,OAAO,GACjD,qBAAqB,CAAC,IAAM;YACxB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAEjC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACrB,CAAC,CACL,CAAC;CACL;AAED,eAAe,6BAAO,CAClB,IAAO,EACP,OAAoB,EACpB,SAAiB,EACjB,MAAgB,EAClB;IACE,MAAM,GAAG,GAAG,yCAAW,CAAC,IAAI,EAAE,OAAO,CAAC,AAAC;IAEvC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAEpC,MAAM,GAAG,CAAC;IAEV,IAAI,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC;SACxB,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;CACvC;AAEM,SAAS,yCAAS,CACrB,OAAoB,EACpB,SAAiB,EACjB,OAAO,GAAG,OAAO,EACnB;IACE,OAAO,4BAAM,CAAC,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;CAC5D;AAEM,SAAS,yCAAS,CACrB,OAAoB,EACpB,SAAiB,EACjB,OAAO,GAAG,OAAO,EACnB;IACE,OAAO,4BAAM,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;CAC3D;AAEM,SAAS,yCAAU,CACtB,OAAoB,EACpB,SAAiB,EACjB,MAAgB,EAClB;IACE,OAAO,6BAAO,CAAC,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;CAC5D;AAEM,SAAS,yCAAU,CACtB,OAAoB,EACpB,SAAiB,EACjB,MAAgB,EAClB;IACE,OAAO,6BAAO,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;CAC3D;;;;;;;ACzJD;AAEO,eAAe,yCAAQ,CAAC,KAAa,EAAE,KAAgB,EAAE;IAC5D,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAEpB,MAAM,KAAK,EAAE,CAAC;IAEd,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;CAC1B;AAEM,eAAe,yCAAE,CACpB,KAAa,EACb,QAA+D,EAC/D,UAAU,GAAG,CAAC,EACJ;IACV,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;IAEvB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAEpB,eAAe,OAAO,GAAe;QACjC,MAAM,CAAA,GAAA,yCAAK,CAAA,CAAC,UAAU,CAAC,CAAC;QAExB,MAAM,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC;KACrC;IACD,IAAI;QACA,OAAO,MAAM,OAAO,CAAC,IAAI,CAAI;YACzB,QAAQ,CAAC,CAAA,MAAM,GAAI,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YACjD,OAAO,EAAE;SACZ,CAAC,CAAC;KACN,QAAS;QACN,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;KAC1B;CACJ;;","sources":["source/index.ts","source/data.ts","source/math.ts","source/date.ts","source/i18n.ts","source/parser.ts","source/URL.ts","source/crypto.ts","source/DOM-type.ts","source/DOM.ts","source/timer.ts","source/event.ts","source/animation.ts","source/assert.ts"],"sourcesContent":["export * from './data';\nexport * from './math';\nexport * from './date';\nexport * from './i18n';\nexport * from './parser';\nexport * from './URL';\nexport * from './crypto';\nexport * from './DOM-type';\nexport * from './DOM';\nexport * from './timer';\nexport * from './event';\nexport * from './animation';\nexport * from './assert';\n","export type Constructor<T> = new (...args: any[]) => T;\n\nexport type AbstractClass<T> = abstract new (...args: any[]) => T;\n\nexport type Values<T> = Required<T>[keyof T];\n\nexport type TypeKeys<T, D> = {\n    [K in keyof T]: T[K] extends D ? K : never;\n}[keyof T];\n\nexport type PickData<T> = Omit<T, TypeKeys<T, Function>>;\n\nexport type DataKeys<T> = Exclude<keyof T, TypeKeys<T, Function>>;\n\nexport function likeNull(value?: any) {\n    return !(value != null) || Number.isNaN(value);\n}\n\nexport function isEmpty(value?: any) {\n    return (\n        likeNull(value) ||\n        (typeof value === 'object' ? !Object.keys(value).length : value === '')\n    );\n}\n\nexport function assertInheritance(Sub: Function, Super: Function) {\n    return Sub.prototype instanceof Super;\n}\n\nexport function byteLength(raw: string) {\n    return raw.replace(/[^\\u0021-\\u007e\\uff61-\\uffef]/g, 'xx').length;\n}\n\nexport function toHyphenCase(raw: string) {\n    return raw.replace(\n        /[A-Z]+|[^A-Za-z][A-Za-z]/g,\n        (match, offset) =>\n            `${offset ? '-' : ''}${(match[1] || match[0]).toLowerCase()}`\n    );\n}\n\nexport function toCamelCase(raw: string, large = false) {\n    return raw.replace(/^[A-Za-z]|[^A-Za-z][A-Za-z]/g, (match, offset) =>\n        offset || large\n            ? (match[1] || match[0]).toUpperCase()\n            : match.toLowerCase()\n    );\n}\n\nexport function uniqueID() {\n    return (Date.now() + parseInt((Math.random() + '').slice(2))).toString(36);\n}\n\nexport function objectFrom<V, K extends string>(values: V[], keys: K[]) {\n    return Object.fromEntries(\n        values.map((value, index) => [keys[index], value])\n    ) as Record<K, V>;\n}\n\nexport function differ<T>(\n    target: Record<string, T>,\n    source: Record<string, T>\n) {\n    const data: Record<string, T> = {};\n\n    for (const key in source)\n        if (!(target[key] != null)) data[key] = source[key];\n\n    return data;\n}\n\nexport type ResultArray<T> = T extends ArrayLike<infer D> ? D[] : T[];\n\nexport function likeArray(data?: any): data is ArrayLike<any> {\n    if (likeNull(data)) return false;\n\n    const { length } = data;\n\n    return typeof length === 'number' && length >= 0 && ~~length === length;\n}\n\nexport function makeArray<T>(data?: T) {\n    if (data instanceof Array) return data as unknown as ResultArray<T>;\n\n    if (likeNull(data)) return [] as ResultArray<T>;\n\n    if (likeArray(data)) return Array.from(data) as ResultArray<T>;\n\n    return [data] as ResultArray<T>;\n}\n\nexport function splitArray<T>(array: T[], unitLength: number) {\n    const list: T[][] = [];\n\n    for (\n        let i = 0, current: T[];\n        (current = array.slice(unitLength * i, unitLength * ++i)).length;\n\n    )\n        list.push(current);\n\n    return list;\n}\n\nexport function findDeep<T>(\n    list: T[],\n    subKey: TypeKeys<Required<T>, any[]>,\n    handler: (item: T) => boolean\n): T[] {\n    for (const item of list) {\n        if (handler(item)) return [item];\n\n        if (item[subKey] instanceof Array) {\n            const result = findDeep(\n                item[subKey] as unknown as T[],\n                subKey,\n                handler\n            );\n            if (result.length) return [item, ...result];\n        }\n    }\n    return [];\n}\n\nexport type IndexKey = number | string | symbol;\nexport type GroupKey<T extends Record<IndexKey, any>> = keyof T | IndexKey;\nexport type Iteratee<T extends Record<IndexKey, any>> =\n    | keyof T\n    | ((item: T) => GroupKey<T> | GroupKey<T>[]);\n\nexport function groupBy<T extends Record<IndexKey, any>>(\n    list: T[],\n    iteratee: Iteratee<T>\n) {\n    const data = {} as Record<GroupKey<T>, T[]>;\n\n    for (const item of list) {\n        let keys =\n            iteratee instanceof Function ? iteratee(item) : item[iteratee];\n\n        if (!(keys instanceof Array)) keys = [keys];\n\n        for (const key of new Set(\n            (keys as GroupKey<T>[]).filter(key => key != null)\n        ))\n            (data[key] = data[key] || []).push(item);\n    }\n\n    return data;\n}\n\nexport function countBy<T extends Record<IndexKey, any>>(\n    list: T[],\n    iteratee: Iteratee<T>\n) {\n    const group = groupBy(list, iteratee);\n\n    const sortedList = Object.entries(group).map(\n        ([key, { length }]) => [key, length] as const\n    );\n    return Object.fromEntries(sortedList);\n}\n\nexport function cache<I, O>(\n    executor: (cleaner: () => void, ...data: I[]) => O,\n    title: string\n) {\n    var cacheData: O;\n\n    return function (...data: I[]) {\n        if (cacheData != null) return cacheData;\n\n        console.trace(`[Cache] execute: ${title}`);\n\n        cacheData = executor.call(\n            this,\n            (): void => (cacheData = undefined),\n            ...data\n        );\n        Promise.resolve(cacheData).then(\n            data => console.log(`[Cache] refreshed: ${title} => ${data}`),\n            error => console.error(`[Cache] failed: ${error?.message || error}`)\n        );\n        return cacheData;\n    };\n}\n\nexport async function* mergeStream<T, R = void, N = T>(\n    ...sources: (() => AsyncIterator<T, R, N>)[]\n) {\n    var iterators = sources.map(item => item());\n\n    while (iterators[0]) {\n        const dones: number[] = [];\n\n        for (\n            let i = 0, iterator: AsyncIterator<T>;\n            (iterator = iterators[i]);\n            i++\n        ) {\n            const { done, value } = await iterator.next();\n\n            if (!done) yield value;\n            else dones.push(i);\n        }\n        iterators = iterators.filter((_, i) => !dones.includes(i));\n    }\n}\n","export function sum(...data: number[]) {\n    return data.reduce((sum, item) => sum + item, 0);\n}\n\nexport function averageOf(...data: number[]) {\n    return sum(...data) / data.length;\n}\n\nexport function varianceOf(data: number[], sample = false) {\n    const average = averageOf(...data);\n    const summary = sum(...data.map(item => (item - average) ** 2));\n\n    return summary / (data.length - (sample ? 1 : 0));\n}\n\nexport function standardDeviationOf(data: number[], sample = false) {\n    return Math.sqrt(varianceOf(data, sample));\n}\n\nexport function hypotenuseOf(...data: number[]) {\n    return Math.sqrt(sum(...data.map(item => item ** 2)));\n}\n\nexport function carryFloat(raw: number, length: number) {\n    const text = raw.toFixed(length + 2);\n    const offset = text.indexOf('.') + length + 1;\n\n    const cut = (text: string) => text.slice(0, offset - (length ? 0 : 1));\n\n    if (!+text.slice(offset)) return cut(text);\n\n    const result = cut((+cut(text) + 10 ** -length).toFixed(length));\n\n    return result.includes('.') ? result.padEnd(offset, '0') : result;\n}\n\nexport function fixFloat(raw: number, length = 2) {\n    const text = raw.toFixed(length + 2);\n    const floatOffset = text.indexOf('.');\n\n    if (floatOffset < 0) return length ? `${text}.${'0'.repeat(length)}` : text;\n\n    const offset = floatOffset + length + 1;\n\n    const before = +text[offset - 1],\n        anchor = +text[offset],\n        after = +text[offset + 1];\n\n    const carry = anchor > 5 || (anchor === 5 && (!!after || !!(before % 2)));\n\n    if (carry) return carryFloat(raw, length);\n\n    const result = text.slice(0, offset - (length ? 0 : 1));\n\n    return result.includes('.') ? result.padEnd(offset, '0') : result;\n}\n","export const Second = 1000;\nexport const Minute = Second * 60;\nexport const Quarter = Minute * 15;\nexport const Hour = Quarter * 4;\nexport const Day = Hour * 24;\nexport const Week = Day * 7;\nexport const Year = Day * 365;\nexport const Month = Year / 12;\nexport const Season = Month * 3;\n\nconst TimeUnit = new Map([\n    ['s', Second],\n    ['m', Minute],\n    ['H', Hour],\n    ['D', Day],\n    ['W', Week],\n    ['M', Month],\n    ['Y', Year]\n]);\n\nexport type TimeData = number | string | Date;\n\nexport function diffTime(\n    end: TimeData,\n    start: TimeData = new Date(),\n    map = TimeUnit\n) {\n    const distance = +new Date(end) - +new Date(start);\n\n    for (const [unit, base] of [...map].reverse()) {\n        const rest = distance / base;\n\n        if (Math.abs(rest) >= 1) return { distance: +rest.toFixed(0), unit };\n    }\n\n    return { distance, unit: 'ms' };\n}\n\nfunction fitUnit(value: string) {\n    value = +value + '';\n\n    return (template: string) =>\n        (value.length < template.length\n            ? value.padStart(template.length, '0')\n            : value\n        ).slice(-Math.max(template.length, 2));\n}\n\nexport function formatDate(\n    time: TimeData = new Date(),\n    template = 'YYYY-MM-DD HH:mm:ss'\n) {\n    time = time instanceof Date ? time : new Date(time);\n    time = new Date(+time - time.getTimezoneOffset() * Minute);\n\n    const [year, month, day, hour, minute, second, millisecond] = time\n        .toJSON()\n        .split(/\\D/);\n\n    return template\n        .replace(/ms/g, millisecond)\n        .replace(/Y+/g, fitUnit(year))\n        .replace(/M+/g, fitUnit(month))\n        .replace(/D+/g, fitUnit(day))\n        .replace(/H+/g, fitUnit(hour))\n        .replace(/m+/g, fitUnit(minute))\n        .replace(/s+/g, fitUnit(second));\n}\n\nexport function changeMonth(date: TimeData, delta: number) {\n    date = new Date(date);\n\n    const month = date.getMonth() + delta;\n\n    date.setFullYear(date.getFullYear() + Math.floor(month / 12));\n\n    delta = month % 12;\n\n    date.setMonth(delta < 0 ? 12 + delta : delta);\n\n    return date;\n}\n","export function bootI18n<T extends Record<string, string>>(\n    data: Record<string, T>,\n    fallback = document.documentElement.lang || 'en-US'\n) {\n    const languages = [...navigator.languages, fallback];\n    const language = languages.find(language => language in data);\n    const words: T = Object.assign(\n        {},\n        ...languages.reverse().map(name => data[name])\n    );\n    document.documentElement.lang = language;\n\n    return { language, words };\n}\n\nexport function isNumberLetter(raw = '') {\n    return (\n        new RegExp('\\\\p{N}', 'u').test(raw) ||\n        new RegExp('\\\\p{Ll}', 'u').test(raw.toLowerCase())\n    );\n}\n\nexport function textJoin(...parts: string[]) {\n    return parts\n        .map((raw, index) => {\n            const isNL = isNumberLetter(raw.slice(-1));\n\n            if (index + 1 === parts.length) return raw;\n\n            const diff = isNL !== isNumberLetter(parts[index + 1]?.trim()[0]);\n\n            return raw + (diff || isNL ? ' ' : '');\n        })\n        .join('');\n}\n","export function parseJSON(raw: string) {\n    function parseItem(value: any) {\n        if (typeof value === 'string' && /^\\d+(-\\d{1,2}){1,2}/.test(value)) {\n            const date = new Date(value);\n\n            if (!Number.isNaN(+date)) return date;\n        }\n        return value;\n    }\n\n    const value = parseItem(raw);\n\n    if (typeof value !== 'string') return value;\n\n    try {\n        return /^[\\d.]+$/.test(value) &&\n            value.localeCompare(Number.MAX_SAFE_INTEGER + '', undefined, {\n                numeric: true\n            }) > 0\n            ? value\n            : JSON.parse(raw, (key, value) => parseItem(value));\n    } catch {\n        return raw;\n    }\n}\n\nexport function toJSValue(raw: string) {\n    const parsed = parseJSON(raw);\n\n    if (typeof parsed !== 'string') return parsed;\n\n    const number = +parsed;\n\n    return Number.isNaN(number) || number + '' !== parsed ? parsed : number;\n}\n\nfunction readQuoteValue(raw: string) {\n    const quote = raw[0];\n    const index = raw.indexOf(quote, 1);\n\n    if (index < 0) throw SyntaxError(`A ${quote} is missing`);\n\n    return raw.slice(1, index);\n}\n\nexport function parseTextTable<T = {}>(\n    raw: string,\n    header?: boolean,\n    separator = ','\n) {\n    const data = raw\n        .trim()\n        .split(/[\\r\\n]+/)\n        .map(row => {\n            const list = [];\n\n            do {\n                let value: string;\n\n                if (row[0] === '\"' || row[0] === \"'\") {\n                    value = readQuoteValue(row);\n\n                    row = row.slice(value.length + 3);\n                } else {\n                    const index = row.indexOf(separator);\n\n                    if (index > -1) {\n                        value = row.slice(0, index);\n                        row = row.slice(index + 1);\n                    } else {\n                        value = row;\n                        row = '';\n                    }\n                }\n                list.push(toJSValue(value.trim()));\n            } while (row);\n\n            return list;\n        });\n\n    return !header\n        ? data\n        : data.slice(1).map(row =>\n              row.reduce((object, item, index) => {\n                  object[data[0][index]] = item;\n\n                  return object;\n              }, {} as T)\n          );\n}\n","import { isEmpty, likeArray, makeArray } from './data';\nimport { parseJSON } from './parser';\n\nexport function isXDomain(URI: string) {\n    return new URL(URI, document.baseURI).origin !== location.origin;\n}\n\nexport type JSONValue = number | boolean | string | null;\nexport interface URLData<E = unknown> {\n    [key: string]: JSONValue | JSONValue[] | URLData | URLData[] | E;\n}\n\nexport function parseURLData(\n    raw = window.location.search,\n    toBuiltIn = true\n): URLData {\n    const list = raw.split(/\\?|#/);\n    const data = new URLSearchParams(list[1] || list[0]);\n\n    return Object.fromEntries(\n        [...data.keys()].map(key => {\n            const list = toBuiltIn\n                ? data.getAll(key).map(parseJSON)\n                : data.getAll(key);\n\n            return [key, list.length < 2 ? list[0] : list];\n        })\n    );\n}\n\nconst stringify = (value: any) =>\n    typeof value === 'string'\n        ? value\n        : likeArray(value)\n        ? makeArray(value) + ''\n        : JSON.stringify(value);\n\nexport function buildURLData(map: string[][] | Record<string, any>) {\n    if (!(map instanceof Array)) map = Object.entries(map);\n\n    const list = (map as any[][])\n        .map(([key, value]) => !isEmpty(value) && [key, stringify(value)])\n        .filter(Boolean);\n\n    return new URLSearchParams(list);\n}\n\nexport async function blobOf(URI: string | URL) {\n    return (await fetch(URI + '')).blob();\n}\n\nconst DataURI = /^data:(.+?\\/(.+?))?(;base64)?,([\\s\\S]+)/;\n/**\n * Blob logic forked from axes's\n *\n * @see http://www.cnblogs.com/axes/p/4603984.html\n */\nexport function blobFrom(URI: string) {\n    var [_, type, __, base64, data] = DataURI.exec(URI) || [];\n\n    data = base64 ? atob(data) : data;\n\n    const aBuffer = new ArrayBuffer(data.length);\n    const uBuffer = new Uint8Array(aBuffer);\n\n    for (let i = 0; data[i]; i++) uBuffer[i] = data.charCodeAt(i);\n\n    return new Blob([aBuffer], { type });\n}\n","const CRC_32_Table = Array.from(new Array(256), (_, cell) => {\n    for (var j = 0; j < 8; j++)\n        if (cell & 1) cell = ((cell >> 1) & 0x7fffffff) ^ 0xedb88320;\n        else cell = (cell >> 1) & 0x7fffffff;\n\n    return cell;\n});\n\n/**\n * CRC-32 algorithm forked from Bakasen's\n *\n * @see http://blog.csdn.net/bakasen/article/details/6043797\n */\nexport function makeCRC32(raw: string) {\n    var value = 0xffffffff;\n\n    for (const char of raw)\n        value =\n            ((value >> 8) & 0x00ffffff) ^\n            CRC_32_Table[(value & 0xff) ^ char.charCodeAt(0)];\n\n    return '0x' + ((value ^ 0xffffffff) >>> 0).toString(16);\n}\n\nif (typeof self === 'object') {\n    if ('msCrypto' in globalThis) {\n        // @ts-ignore\n        const { subtle } = (globalThis.crypto = globalThis.msCrypto as Crypto);\n\n        for (const key in subtle) {\n            const origin = subtle[key];\n\n            if (origin instanceof Function)\n                subtle[key] = function () {\n                    const observer = origin.apply(this, arguments);\n\n                    return new Promise((resolve, reject) => {\n                        observer.oncomplete = ({\n                            target\n                        }: Parameters<FileReader['onload']>[0]) =>\n                            resolve(target.result);\n\n                        observer.onabort = observer.onerror = reject;\n                    });\n                };\n        }\n    }\n    const { crypto } = globalThis;\n\n    if (!crypto?.subtle && crypto?.['webkitSubtle'])\n        // @ts-ignore\n        crypto.subtle = crypto['webkitSubtle'];\n}\n\nexport type SHAAlgorithm = 'SHA-1' | 'SHA-256' | 'SHA-384' | 'SHA-512';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#Converting_a_digest_to_a_hex_string\n */\nexport async function makeSHA(raw: string, algorithm: SHAAlgorithm = 'SHA-1') {\n    const buffer = await crypto.subtle.digest(\n        algorithm,\n        new TextEncoder().encode(raw)\n    );\n    return Array.from(new Uint8Array(buffer), byte =>\n        byte.toString(16).padStart(2, '0')\n    ).join('');\n}\n","import type { IAom } from 'element-internals-polyfill';\n\nimport type { DataKeys, PickData, Constructor } from './data';\n\nexport type SelfCloseTags =\n    | 'area'\n    | 'base'\n    | 'br'\n    | 'col'\n    | 'embed'\n    | 'hr'\n    | 'img'\n    | 'input'\n    | 'link'\n    | 'meta'\n    | 'param'\n    | 'source'\n    | 'track'\n    | 'wbr';\n\nexport type ShadowableTags =\n    | 'article'\n    | 'aside'\n    | 'blockquote'\n    | 'body'\n    | 'div'\n    | 'footer'\n    | 'h1'\n    | 'h2'\n    | 'h3'\n    | 'h4'\n    | 'h5'\n    | 'h6'\n    | 'header'\n    | 'main'\n    | 'nav'\n    | 'p'\n    | 'section'\n    | 'span'\n    | `${string}-${string}`;\n\n/* -------------------- Event Handlers -------------------- */\n\nexport type EventTypes = {\n    [K in keyof typeof globalThis]: K extends `${infer N}Event`\n        ? N extends ''\n            ? never\n            : N\n        : never;\n}[keyof typeof globalThis];\n\nexport type UniqueEventNames = {\n    [K in keyof HTMLElementEventMap]: K extends `${Lowercase<EventTypes>}${string}`\n        ? never\n        : K extends `${string}${Lowercase<EventTypes>}`\n        ? never\n        : K;\n}[keyof HTMLElementEventMap];\n\nexport type ComplexUniqueEventNames = {\n    [K in UniqueEventNames]: K extends `${infer L}${UniqueEventNames}`\n        ? L extends ''\n            ? never\n            : K\n        : never;\n}[UniqueEventNames];\n\nexport type SimpleEventNames = Exclude<\n    UniqueEventNames,\n    ComplexUniqueEventNames\n>;\n\nexport type EventHandlerNames<T extends Element> = {\n    [K in keyof T]: K extends `on${infer N}`\n        ? T[K] extends (event: Event) => any\n            ? N\n            : never\n        : never;\n}[keyof T];\n\nexport type CamelEventName<T extends string> = T extends SimpleEventNames\n    ? Capitalize<T>\n    : T extends `${infer L}${SimpleEventNames}`\n    ? T extends `${L}${infer R}`\n        ? `${Capitalize<L>}${Capitalize<R>}`\n        : T\n    : T extends `${Lowercase<EventTypes>}${infer R}`\n    ? T extends `${infer L}${R}`\n        ? `${Capitalize<L>}${Capitalize<R>}`\n        : T\n    : T extends `${infer L}${Lowercase<EventTypes>}`\n    ? T extends `${L}${infer R}`\n        ? `${Capitalize<L>}${Capitalize<R>}`\n        : T\n    : T;\n\nexport type EventHandlers<T extends Element> = {\n    [K in EventHandlerNames<T> as `on${CamelEventName<K>}`]: (\n        event: HTMLElementEventMap[K]\n    ) => any;\n};\n\nexport type ContainerEvents = 'focusin' | 'focusout';\n\nexport type ContainerEventHandlers<T extends keyof HTMLElementTagNameMap> =\n    T extends SelfCloseTags\n        ? {}\n        : {\n              [K in ContainerEvents as `on${CamelEventName<K>}`]: (\n                  event: HTMLElementEventMap[K]\n              ) => any;\n          };\n\n/* -------------------- DOM Props -------------------- */\n\nexport type HTMLOwnKeys<T extends HTMLElement = HTMLElement> = Exclude<\n    keyof T,\n    keyof Node | keyof EventTarget\n>;\nexport type SVGOwnKeys<T extends SVGElement = SVGElement> = Exclude<\n    keyof T,\n    keyof Node | keyof EventTarget\n>;\n\nexport type CSSStyles = Partial<\n    Omit<PickData<CSSStyleDeclaration>, 'length' | 'parentRule'> &\n        Record<string, any>\n>;\nexport type CSSRule = Record<string, CSSStyles>;\nexport type CSSObject = CSSRule | Record<string, CSSRule>;\n\nexport type DOMProps_Read2Write<T extends Partial<Element>> = {\n    [K in keyof T]: T[K] extends HTMLElement\n        ? string\n        : T[K] extends DOMTokenList\n        ? string\n        : T[K] extends Element\n        ? string\n        : T[K] extends CSSStyleDeclaration\n        ? CSSStyles\n        : T[K];\n};\nexport type HTMLProps<T extends HTMLElement> = Partial<\n    IAom &\n        EventHandlers<T> &\n        DOMProps_Read2Write<Pick<T, Extract<DataKeys<T>, HTMLOwnKeys<T>>>>\n>;\n\nexport type SVGProps_Read2Write<T extends Partial<SVGElement>> = {\n    [K in keyof T]: T[K] extends SVGAnimatedLength\n        ? string\n        : T[K] extends SVGAnimatedLengthList\n        ? string\n        : T[K] extends SVGAnimatedRect\n        ? string\n        : T[K] extends SVGAnimatedPreserveAspectRatio\n        ? string\n        : T[K];\n};\nexport type SVGProps<T extends SVGElement> = Partial<\n    EventHandlers<T> &\n        SVGProps_Read2Write<\n            DOMProps_Read2Write<Pick<T, Extract<DataKeys<T>, SVGOwnKeys<T>>>>\n        >\n>;\n\nexport interface HTMLHyperLinkProps\n    extends HTMLProps<HTMLAnchorElement & HTMLAreaElement> {\n    href?: string;\n    target?: '_self' | '_parent' | '_top' | '_blank';\n}\n\nexport type HTMLTableCellProps = HTMLProps<HTMLTableCellElement>;\n\nexport type BaseFieldProps = Partial<\n    Pick<\n        HTMLInputElement,\n        'name' | 'defaultValue' | 'value' | 'required' | 'disabled'\n    >\n>;\nexport interface BaseInputProps\n    extends Partial<Pick<HTMLInputElement, 'readOnly' | 'placeholder'>> {\n    list?: string;\n}\nexport type TextFieldProps = BaseInputProps &\n    Partial<\n        Pick<\n            HTMLInputElement,\n            | 'size'\n            | 'minLength'\n            | 'maxLength'\n            | 'pattern'\n            | 'autocomplete'\n            | 'spellcheck'\n        >\n    >;\nexport type NumberFieldProps = BaseInputProps &\n    Partial<Pick<HTMLInputElement, 'min' | 'max' | 'step'>>;\n\nexport type HTMLFieldInternals = Pick<\n    HTMLInputElement,\n    | 'form'\n    | 'validity'\n    | 'validationMessage'\n    | 'willValidate'\n    | 'checkValidity'\n    | 'reportValidity'\n>;\n\nexport type HTMLFieldProps<T extends HTMLElement = HTMLInputElement> =\n    HTMLProps<T> & BaseFieldProps;\n\nexport interface HTMLButtonProps extends HTMLFieldProps<HTMLButtonElement> {\n    type?: 'button' | 'image' | 'submit' | 'reset';\n}\n\nexport interface HTMLInputProps\n    extends HTMLFieldProps,\n        Omit<BaseInputProps, 'list'> {\n    type?:\n        | 'checkbox'\n        | 'color'\n        | 'date'\n        | 'datetime-local'\n        | 'email'\n        | 'file'\n        | 'hidden'\n        | 'month'\n        | 'number'\n        | 'password'\n        | 'radio'\n        | 'range'\n        | 'search'\n        | 'tel'\n        | 'text'\n        | 'time'\n        | 'url'\n        | 'week'\n        | HTMLButtonProps['type'];\n}\n\nexport type HTMLField = HTMLInputElement &\n    HTMLTextAreaElement &\n    HTMLSelectElement &\n    HTMLFieldSetElement;\n\n/**\n * @see https://developers.google.com/web/fundamentals/web-components/customelements#reactions\n */\nexport interface CustomElement extends HTMLElement {\n    /**\n     * Called every time the element is inserted into the DOM\n     */\n    connectedCallback?(): void;\n    /**\n     * Called every time the element is removed from the DOM.\n     */\n    disconnectedCallback?(): void;\n    /**\n     * Called when an observed attribute has been added, removed, updated, or replaced.\n     * Also called for initial values when an element is created by the parser, or upgraded.\n     *\n     * Note: only attributes listed in static `observedAttributes` property will receive this callback.\n     */\n    attributeChangedCallback?(\n        name: string,\n        oldValue: string,\n        newValue: string\n    ): void;\n    /**\n     * The custom element has been moved into a new document\n     * (e.g. someone called `document.adoptNode(el)`).\n     */\n    adoptedCallback?(): void;\n}\n\n/**\n * @see https://developers.google.com/web/fundamentals/web-components/customelements#attrchanges\n */\nexport interface CustomElementClass<T extends CustomElement = CustomElement> {\n    new (...data: any[]): T;\n\n    observedAttributes?: string[];\n}\n\n/**\n * @see https://web.dev/more-capable-form-controls/#lifecycle-callbacks\n */\nexport interface CustomFormElement\n    extends CustomElement,\n        BaseFieldProps,\n        HTMLFieldInternals {\n    /**\n     * Called when the browser associates the element with a form element,\n     * or disassociates the element from a form element.\n     */\n    formAssociatedCallback?(form: HTMLFormElement): void;\n    /**\n     * Called after the disabled state of the element changes,\n     * either because the disabled attribute of this element was added or removed;\n     * or because the disabled state changed on a `<fieldset>` that's an ancestor of this element.\n     *\n     * @param disabled This parameter represents the new disabled state of the element.\n     */\n    formDisabledCallback?(disabled: boolean): void;\n    /**\n     * Called after the form is reset.\n     * The element should reset itself to some kind of default state.\n     */\n    formResetCallback?(): void;\n    /**\n     * Called in one of two circumstances:\n     *   - When the browser restores the state of the element (for example, after a navigation, or when the browser restarts). The `mode` argument is `\"restore\"` in this case.\n     *   - When the browser's input-assist features such as form autofilling sets a value. The `mode` argument is `\"autocomplete\"` in this case.\n     *\n     * @param state The type of this argument depends on how the `this.internals.setFormValue()` method was called.\n     * @param mode\n     */\n    formStateRestoreCallback?(\n        state: string | File | FormData,\n        mode: 'restore' | 'autocomplete'\n    ): void;\n}\n\n/**\n * @see https://web.dev/more-capable-form-controls/#defining-a-form-associated-custom-element\n */\nexport interface CustomFormElementClass\n    extends CustomElementClass<CustomFormElement> {\n    formAssociated?: boolean;\n}\n","import { URLData } from './URL';\nimport { HTMLProps, HTMLField, CSSStyles, CSSObject } from './DOM-type';\nimport { Constructor, isEmpty, assertInheritance, toHyphenCase } from './data';\nimport { toJSValue } from './parser';\n\nconst templateMap: Record<string, Element> = {};\n\nexport function templateOf(tagName: string) {\n    if (templateMap[tagName]) return templateMap[tagName];\n\n    const spawn = document.createElement('template');\n\n    spawn.innerHTML = `<${tagName} />`;\n\n    return (templateMap[tagName] = spawn.content.firstElementChild!);\n}\n\nexport function elementTypeOf(tagName: string) {\n    const node = templateOf(tagName);\n\n    return node instanceof HTMLElement && !(node instanceof HTMLUnknownElement)\n        ? 'html'\n        : 'xml';\n}\n\nexport function isHTMLElementClass<T extends Constructor<HTMLElement>>(\n    Class: any\n): Class is T {\n    return assertInheritance(Class, HTMLElement);\n}\n\nconst nameMap = new WeakMap<Constructor<HTMLElement>, string>();\n\nexport function tagNameOf(Class: CustomElementConstructor) {\n    const name = nameMap.get(Class);\n\n    if (name) return name;\n\n    var { tagName } = new Class();\n\n    nameMap.set(Class, (tagName = tagName.toLowerCase()));\n\n    return tagName;\n}\n\nexport function isDOMReadOnly<T extends keyof HTMLElementTagNameMap>(\n    tagName: T,\n    propertyName: keyof HTMLProps<HTMLElementTagNameMap[T]>\n) {\n    /**\n     * fetch from https://html.spec.whatwg.org/\n     */\n    const ReadOnly_Properties: [Constructor<HTMLElement>, string[]][] = [\n        [HTMLLinkElement, ['sizes']],\n        [HTMLIFrameElement, ['sandbox']],\n        [HTMLObjectElement, ['form']],\n        [HTMLInputElement, ['form', 'list']],\n        [HTMLButtonElement, ['form']],\n        [HTMLSelectElement, ['form']],\n        [HTMLTextAreaElement, ['form']],\n        [HTMLOutputElement, ['form']],\n        [HTMLFieldSetElement, ['form']]\n    ];\n    const template = templateOf(tagName);\n\n    for (const [Class, keys] of ReadOnly_Properties)\n        if (template instanceof Class && keys.includes(propertyName as string))\n            return true;\n    return false;\n}\n\nexport function parseDOM(HTML: string) {\n    const spawn = document.createElement('template');\n\n    spawn.innerHTML = HTML;\n\n    return [...spawn.content.childNodes].map(node => {\n        node.remove();\n        return node;\n    });\n}\n\nexport function stringifyDOM(node: Node) {\n    return new XMLSerializer()\n        .serializeToString(node)\n        .replace(/ xmlns=\"http:\\/\\/www.w3.org\\/1999\\/xhtml\"/g, '');\n}\n\nexport function* walkDOM<T extends Node = Node>(\n    root: Node,\n    type?: Node['nodeType']\n): Generator<T> {\n    const children = [...root.childNodes];\n\n    if (isEmpty(type) || type === root.nodeType) yield root as T;\n\n    for (const node of children) yield* walkDOM(node, type);\n}\n\nexport function getVisibleText(root: Element) {\n    var text = '';\n\n    for (const { nodeType, parentElement, nodeValue } of walkDOM(root))\n        if (\n            nodeType === Node.TEXT_NODE &&\n            parentElement.getAttribute('aria-hidden') !== 'true'\n        ) {\n            const { width, height } = parentElement.getBoundingClientRect();\n\n            if (width && height) text += nodeValue.trim().replace(/\\s+/g, ' ');\n        }\n\n    return text;\n}\n\n/**\n * Split a DOM tree into Pages like PDF files\n *\n * @param pageHeight the default value is A4 paper's height\n * @param pageWidth the default value is A4 paper's width\n */\nexport function splitPages(\n    { offsetWidth, children }: HTMLElement,\n    pageHeight = 841.89,\n    pageWidth = 595.28\n) {\n    const scrollHeight = (pageHeight / pageWidth) * offsetWidth;\n    var offset = 0;\n\n    return [...children].reduce((pages, node) => {\n        var { offsetTop: top, offsetHeight: height } = node as HTMLElement;\n        top += offset;\n        var bottom = top + height;\n\n        const bottomOffset = bottom / scrollHeight;\n        const topIndex = ~~(top / scrollHeight),\n            bottomIndex = ~~bottomOffset;\n\n        if (topIndex !== bottomIndex) offset += height - bottomOffset;\n\n        (pages[bottomIndex] ||= []).push(node);\n\n        return pages;\n    }, [] as Element[][]);\n}\n\nexport interface CSSOptions\n    extends Pick<\n        HTMLLinkElement,\n        'title' | 'media' | 'crossOrigin' | 'integrity'\n    > {\n    alternate?: boolean;\n}\n\nexport function importCSS(\n    URI: string,\n    { alternate, ...options }: CSSOptions = {} as CSSOptions\n) {\n    const style = [...document.styleSheets].find(({ href }) => href === URI);\n\n    if (style) return Promise.resolve(style);\n\n    const link = document.createElement('link');\n\n    return new Promise<CSSStyleSheet>((resolve, reject) => {\n        link.onload = () => resolve(link.sheet);\n        link.onerror = (_1, _2, _3, _4, error) => reject(error);\n\n        Object.assign(link, options);\n\n        link.rel = (alternate ? 'alternate ' : '') + 'stylesheet';\n        link.href = URI;\n\n        document.head.append(link);\n    });\n}\n\nexport function stringifyCSS(\n    data: CSSStyles | CSSObject,\n    depth = 0,\n    indent = '    '\n): string {\n    const padding = indent.repeat(depth);\n\n    return Object.entries(data)\n        .map(([key, value]) =>\n            typeof value !== 'object'\n                ? `${padding}${toHyphenCase(key)}: ${value};`\n                : `${padding}${key} {\n${stringifyCSS(value as CSSObject, depth + 1, indent)}\n${padding}}`\n        )\n        .join('\\n');\n}\n\nexport function insertToCursor(...nodes: Node[]) {\n    const fragment = document.createDocumentFragment();\n\n    fragment.append(...nodes);\n\n    for (const node of walkDOM(fragment))\n        if (\n            ![1, 3, 11].includes(node.nodeType) ||\n            ['meta', 'title', 'link', 'script'].includes(\n                node.nodeName.toLowerCase()\n            )\n        )\n            (node as ChildNode).replaceWith(...node.childNodes);\n\n    const selection = globalThis.getSelection();\n\n    if (!selection) return;\n\n    const range = selection.getRangeAt(0);\n\n    range.deleteContents();\n    range.insertNode(fragment);\n}\n\nexport function scrollTo(\n    selector: string,\n    root?: Element,\n    align?: ScrollLogicalPosition,\n    justify?: ScrollLogicalPosition\n) {\n    const [_, ID] = /^#(.+)/.exec(selector) || [];\n\n    if (ID === 'top') window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n    else\n        (root || document)\n            .querySelector(ID ? `[id=\"${ID}\"]` : selector)\n            ?.scrollIntoView({\n                behavior: 'smooth',\n                block: align,\n                inline: justify\n            });\n}\n\nexport interface ScrollEvent {\n    target: HTMLHeadingElement;\n    links: (HTMLAnchorElement | HTMLAreaElement)[];\n}\n\nexport function watchScroll(\n    box: HTMLElement,\n    handler: (event: ScrollEvent) => any,\n    depth = 6\n) {\n    return Array.from(\n        box.querySelectorAll<HTMLHeadingElement>(\n            Array.from(new Array(depth), (_, index) => `h${++index}`) + ''\n        ),\n        header => {\n            new IntersectionObserver(([item]) => {\n                if (!item.isIntersecting) return;\n\n                const target = item.target as HTMLHeadingElement;\n\n                handler({\n                    target,\n                    links: [\n                        ...target.ownerDocument.querySelectorAll<\n                            HTMLAnchorElement | HTMLAreaElement\n                        >(`[href=\"#${target.id}\"]`)\n                    ]\n                });\n            }).observe(header);\n\n            if (!header.id.trim())\n                header.id = header.textContent.trim().replace(/\\W+/g, '-');\n\n            return {\n                level: +header.tagName[1],\n                id: header.id,\n                text: header.textContent.trim()\n            };\n        }\n    );\n}\n\nexport function watchVisible(\n    root: Element,\n    handler: (visible: boolean) => any\n) {\n    var last = document.visibilityState === 'visible' ? 1 : 0;\n\n    function change(state: number) {\n        if (state === 3 || last === 3) handler(state === 3);\n\n        last = state;\n    }\n\n    new IntersectionObserver(([{ isIntersecting }]) =>\n        change(isIntersecting ? last | 2 : last & 1)\n    ).observe(root);\n\n    document.addEventListener('visibilitychange', () =>\n        change(document.visibilityState === 'visible' ? last | 1 : last & 2)\n    );\n}\n\nexport function formToJSON<T = URLData<File>>(\n    form: HTMLFormElement | HTMLFieldSetElement\n) {\n    const data = {} as T;\n\n    for (const field of form.elements) {\n        let {\n            type,\n            name,\n            value,\n            checked,\n            defaultValue,\n            selectedOptions,\n            files\n        } = field as HTMLField;\n\n        if (!name || value === '') continue;\n\n        const box = type !== 'fieldset' && field.closest('fieldset');\n\n        if (box && box !== form) continue;\n\n        let parsedValue: any = value;\n\n        switch (type) {\n            case 'radio':\n            case 'checkbox':\n                if (checked)\n                    parsedValue = defaultValue ? toJSValue(defaultValue) : true;\n                else continue;\n                break;\n            case 'select-multiple':\n                parsedValue = Array.from(selectedOptions, ({ value }) =>\n                    toJSValue(value)\n                );\n                break;\n            case 'fieldset':\n                parsedValue = formToJSON(field as HTMLFieldSetElement);\n                break;\n            case 'file':\n                parsedValue = files && Array.from(files);\n                break;\n            case 'date':\n            case 'datetime-local':\n            case 'month':\n            case 'hidden':\n            case 'number':\n            case 'range':\n            case 'select-one':\n                parsedValue = toJSValue(value);\n        }\n\n        if (name in data) data[name] = [].concat(data[name], parsedValue);\n        else\n            data[name] =\n                !(parsedValue instanceof Array) || !isEmpty(parsedValue[1])\n                    ? parsedValue\n                    : parsedValue[0];\n    }\n\n    return data;\n}\n","export function sleep(seconds = 1) {\n    return new Promise<void>(resolve => setTimeout(resolve, seconds * 1000));\n}\n\nexport function asyncLoop(executor: (...data: any[]) => any, seconds = 1) {\n    var stop = false;\n\n    (async () => {\n        while (!stop) {\n            const result = executor();\n\n            if (result instanceof Promise) await result;\n\n            await sleep(seconds);\n        }\n    })();\n\n    return () => (stop = true);\n}\n","import { uniqueID } from './data';\n\nexport type DelegateEventHandler<T = any> = (\n    event: Event,\n    currentTarget: Element,\n    detail?: T\n) => any;\n\nexport function delegate<T>(\n    selector: string,\n    handler: DelegateEventHandler<T>\n) {\n    return function (this: Node, event: Event) {\n        var node: EventTarget,\n            path = event.composedPath();\n\n        while ((node = path.shift()) && node !== event.currentTarget)\n            if (node instanceof HTMLElement && node.matches(selector))\n                return handler.call(\n                    this,\n                    event,\n                    node,\n                    (event as CustomEvent).detail\n                );\n    };\n}\n\nexport const documentReady =\n    typeof window !== 'undefined'\n        ? new Promise<void>(resolve => {\n              function done() {\n                  document?.removeEventListener('DOMContentLoaded', done);\n                  window.removeEventListener('load', done);\n                  resolve();\n              }\n              document?.addEventListener('DOMContentLoaded', done);\n              window.addEventListener('load', done);\n\n              setTimeout(function check() {\n                  document?.readyState === 'complete'\n                      ? resolve()\n                      : setTimeout(check);\n              });\n          })\n        : Promise.resolve();\n\nexport function promisify<T extends Event>(scope: string, element: Element) {\n    return new Promise<T>((resolve, reject) => {\n        function end(event: T) {\n            resolve(event), clean();\n        }\n        function cancel(event: T) {\n            reject(event), clean();\n        }\n\n        function clean() {\n            element.removeEventListener(scope + 'end', end);\n            element.removeEventListener(scope + 'cancel', cancel);\n        }\n\n        element.addEventListener(scope + 'end', end);\n        element.addEventListener(scope + 'cancel', cancel);\n    });\n}\n\nexport type MessageGlobal = Window | Worker;\n\nexport function createMessageServer(\n    handlers: Record<string, (data: any) => any | Promise<any>>\n) {\n    async function server({\n        data: { type, id, ...data },\n        source,\n        origin\n    }: MessageEvent) {\n        var result = handlers[type]?.(data);\n\n        if (result instanceof Promise) result = await result;\n        // @ts-ignore\n        (source as MessageGlobal).postMessage({ ...result, id }, origin);\n    }\n\n    globalThis.addEventListener('message', server);\n\n    return () => globalThis.removeEventListener('message', server);\n}\n\nexport function createMessageClient(target: Window | Worker, origin = '*') {\n    return (type: string, data?: any) =>\n        new Promise(resolve => {\n            const UID = uniqueID();\n\n            function handler({ data: { id, ...data } }: MessageEvent) {\n                if (id !== UID) return;\n\n                resolve(data);\n\n                globalThis.removeEventListener('message', handler);\n            }\n\n            globalThis.addEventListener('message', handler);\n            // @ts-ignore\n            target.postMessage({ id: UID, type, ...data }, origin);\n        });\n}\n\nexport function serviceWorkerUpdate(registration: ServiceWorkerRegistration) {\n    return new Promise<ServiceWorker>(resolve => {\n        if (registration.waiting) return resolve(registration.waiting);\n\n        registration.onupdatefound = () =>\n            registration.installing?.addEventListener(\n                'statechange',\n                function () {\n                    if (\n                        this.state === 'installed' &&\n                        navigator.serviceWorker.controller\n                    )\n                        resolve(this);\n                }\n            );\n    });\n}\n","import { promisify } from './event';\n\nexport interface CartesianCoordinate {\n    x: number;\n    y: number;\n    z?: number;\n}\n\nexport class PageVector {\n    from: CartesianCoordinate;\n    to: CartesianCoordinate;\n\n    constructor(from: CartesianCoordinate, to: CartesianCoordinate) {\n        this.from = from;\n        this.to = to;\n    }\n\n    get length() {\n        const { from, to } = this;\n\n        return Math.sqrt(\n            Math.pow(to.x - from.x, 2) +\n                Math.pow(to.y - from.y, 2) +\n                (to.z != null ? Math.pow(to.z - from.z, 2) : 0)\n        );\n    }\n\n    get direction() {\n        const { from, to } = this;\n        const XD = to.x - from.x,\n            YD = to.y - from.y,\n            ZD = to.z - from.z;\n        const XL = Math.abs(XD),\n            YL = Math.abs(YD),\n            ZL = Math.abs(ZD);\n\n        switch (isNaN(ZL) ? Math.max(XL, YL) : Math.max(XL, YL, ZL)) {\n            case XL:\n                return XD > 0 ? 'right' : 'left';\n            case YL:\n                return YD > 0 ? 'forward' : 'backward';\n            case ZL:\n                return ZD > 0 ? 'up' : 'down';\n        }\n    }\n}\n\nexport function getSwipeVector(\n    from: CartesianCoordinate,\n    to: CartesianCoordinate,\n    threshold = parseInt(getComputedStyle(document.body).fontSize) * 6\n) {\n    const vector = new PageVector(from, to);\n\n    if (vector.length >= threshold && !getSelection()?.toString().trim())\n        return vector;\n}\n\nexport interface AnimationEvents {\n    transition: TransitionEvent;\n    animation: AnimationEvent;\n}\n\nexport type AnimationType = keyof AnimationEvents;\n\nexport function durationOf(type: AnimationType, element: HTMLElement) {\n    const { transitionDuration, animationDuration } = getComputedStyle(element);\n\n    const duration =\n        type === 'animation' ? animationDuration : transitionDuration;\n\n    return parseFloat(duration) * (duration.slice(-2) === 'ms' ? 1 : 1000);\n}\n\nexport function watchMotion<T extends AnimationType>(\n    type: T,\n    element: HTMLElement\n) {\n    return Promise.race<AnimationEvents[T] | void>([\n        promisify<AnimationEvents[T]>(type, element).catch(event =>\n            Promise.resolve(event)\n        ),\n        new Promise<void>(resolve =>\n            setTimeout(resolve, durationOf(type, element))\n        )\n    ]);\n}\n\nfunction fadeIn<T extends AnimationType>(\n    type: T,\n    element: HTMLElement,\n    className: string,\n    display: string\n) {\n    element.style.display = display;\n\n    const end = watchMotion(type, element);\n\n    return new Promise<AnimationEvents[T] | void>(resolve =>\n        requestAnimationFrame(() => {\n            element.classList.add(className);\n\n            end.then(resolve);\n        })\n    );\n}\n\nasync function fadeOut<T extends AnimationType>(\n    type: T,\n    element: HTMLElement,\n    className: string,\n    remove?: boolean\n) {\n    const end = watchMotion(type, element);\n\n    element.classList.remove(className);\n\n    await end;\n\n    if (remove) element.remove();\n    else element.style.display = 'none';\n}\n\nexport function transitIn(\n    element: HTMLElement,\n    className: string,\n    display = 'block'\n) {\n    return fadeIn('transition', element, className, display);\n}\n\nexport function animateIn(\n    element: HTMLElement,\n    className: string,\n    display = 'block'\n) {\n    return fadeIn('animation', element, className, display);\n}\n\nexport function transitOut(\n    element: HTMLElement,\n    className: string,\n    remove?: boolean\n) {\n    return fadeOut('transition', element, className, remove);\n}\n\nexport function animateOut(\n    element: HTMLElement,\n    className: string,\n    remove?: boolean\n) {\n    return fadeOut('animation', element, className, remove);\n}\n","import { sleep } from './timer';\n\nexport async function describe(title: string, cases: () => any) {\n    console.log(title);\n    console.time(title);\n\n    await cases();\n\n    console.timeEnd(title);\n}\n\nexport async function it<T>(\n    title: string,\n    userCase: (expect: (status: boolean) => void) => T | Promise<T>,\n    secondsOut = 3\n): Promise<T> {\n    title = '    ' + title;\n\n    console.time(title);\n\n    async function timeOut(): Promise<T> {\n        await sleep(secondsOut);\n\n        throw new RangeError('Timed out');\n    }\n    try {\n        return await Promise.race<T>([\n            userCase(status => console.assert(status, title)),\n            timeOut()\n        ]);\n    } finally {\n        console.timeEnd(title);\n    }\n}\n"],"names":[],"version":3,"file":"index.esm.js.map"}